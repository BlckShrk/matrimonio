(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==i[s]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},i={app:0},a=[];function s(e){return c.p+"js/"+({"about~client-chunk-product-details~payment-result":"about~client-chunk-product-details~payment-result","about~client-chunk-product-details":"about~client-chunk-product-details",about:"about","client-chunk-product-details~payment-result":"client-chunk-product-details~payment-result","client-chunk-product-details":"client-chunk-product-details","payment-result":"payment-result"}[e]||e)+"."+{"chunk-1c6ffa89":"81bd046c","about~client-chunk-product-details~payment-result":"8fb0b8d4","about~client-chunk-product-details":"3fb9999a",about:"905e4f5b","client-chunk-product-details~payment-result":"909a1e03","client-chunk-product-details":"859842ee","payment-result":"b79dc576","chunk-10388d24":"4693601f","chunk-381edeec":"f41f0b2b"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-1c6ffa89":1,"about~client-chunk-product-details~payment-result":1,"about~client-chunk-product-details":1,about:1,"client-chunk-product-details~payment-result":1,"client-chunk-product-details":1,"payment-result":1,"chunk-10388d24":1,"chunk-381edeec":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({"about~client-chunk-product-details~payment-result":"about~client-chunk-product-details~payment-result","about~client-chunk-product-details":"about~client-chunk-product-details",about:"about","client-chunk-product-details~payment-result":"client-chunk-product-details~payment-result","client-chunk-product-details":"client-chunk-product-details","payment-result":"payment-result"}[e]||e)+"."+{"chunk-1c6ffa89":"09ac1e85","about~client-chunk-product-details~payment-result":"3a9c6813","about~client-chunk-product-details":"7bd2e4cc",about:"0b7cbb5d","client-chunk-product-details~payment-result":"4a7c7529","client-chunk-product-details":"38880bf5","payment-result":"94b1961f","chunk-10388d24":"9d0b4ab7","chunk-381edeec":"fbe3ca57"}[e]+".css",i=c.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===n||u===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete o[e],f.parentNode.removeChild(f),r(a)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){o[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e),l=function(t){u.onerror=u.onload=null,clearTimeout(d);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+n+": "+o+")");a.type=n,a.request=o,r[1](a)}i[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/app/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"00e0":function(e,t,r){},"0613":function(e,t,r){"use strict";var n=r("2b0e"),o=r("2f62"),i={appTitle:"Dishcovery",appShortTitle:"Dishcovery",networkOnLine:!0,SWRegistrationForNewContent:null,showAddToHomeScreenModalForApple:!1,showAddToHomeScreenModalForAndroid:!1,showLanguageChooser:!1,showSplashScreen:!1,splashShown:!1,refreshingApp:!1,navBarReduced:!1,currentLanguage:null,analyticsEnabled:!0,previewMode:!1,deviceID:null,snackbarMessage:"",showSnackbarInfoMessage:!1,showSnackbarErrorMessage:!1,snackbarTimeout:2e3,orderNotificationActive:!1,lastCallWaiter:void 0,demoVersion:!1},a=r("88c3"),s={setNetworkOnline:function(e,t){return e.networkOnLine=t},setSWRegistrationForNewContent:function(e,t){return e.SWRegistrationForNewContent=t},setShowAddToHomeScreenModalForApple:function(e,t){return e.showAddToHomeScreenModalForApple=t},setShowAddToHomeScreenModalForAndroid:function(e,t){return e.showAddToHomeScreenModalForAndroid=t},setRefreshingApp:function(e,t){return e.refreshingApp=t},setPreviewMode:function(e,t){return e.previewMode=t},setCurrentLanguage:function(e,t){e.currentLanguage=t,localStorage.setItem("userPreferredLanguage",t),Object(a["b"])(t.toString().toLowerCase())},setAnalyticsEnabled:function(e,t){return e.analyticsEnabled=t},setDeviceID:function(e,t){return e.deviceID=t},setNavBarReduced:function(e,t){return e.navBarReduced=t},setSplashShown:function(e,t){return e.splashShown=t},setShowLanguageChooser:function(e,t){return e.showLanguageChooser=t},setShowSplashScreen:function(e,t){return e.showSplashScreen=t},setShowSnackbarInfoMessage:function(e,t){return e.showSnackbarInfoMessage=t},setShowSnackbarErrorMessage:function(e,t){return e.showSnackbarErrorMessage=t},setSnackbarMessage:function(e,t){return e.snackbarMessage=t},setSnackbarTimeout:function(e,t){return e.snackbarTimeout=t},setOrderNotificationActive:function(e,t){return e.orderNotificationActive=t},setLastCallWaiter:function(e,t){return e.lastCallWaiter=t},setDemoVersion:function(e,t){return e.demoVersion=t}},c=r("a34a"),l=r.n(c),u=r("2ef0");function d(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,o)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,s,"next",e)}function s(e){d(i,n,o,a,s,"throw",e)}a(void 0)}))}}var p=function(){for(var e=[],t=0;t<=15;t++)e[t]=t.toString(16);var r=function(){for(var t="",r=1;r<=36;r++)t+=9===r||14===r||19===r||24===r?"-":15===r?4:20===r?e[8+(4*Math.random()|0)]:e[16*Math.random()|0];return t};return r()},m={closeAddToHomeScreenModalForApple:function(){var e=f(l.a.mark((function e(t){var r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,localStorage.setItem("addToHomeMobilePromptLastDate",Date.now().toString()),r("setShowAddToHomeScreenModalForApple",!1);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),closeAddToHomeScreenModalForAndroid:function(){var e=f(l.a.mark((function e(t){var r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.commit,localStorage.setItem("addToHomeMobilePromptLastDate",Date.now().toString()),r("setShowAddToHomeScreenModalForAndroid",!1);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),serviceWorkerSkipWaiting:function(e){var t=e.state,r=e.commit;Object(u["isNil"])(t.SWRegistrationForNewContent)||(void 0!==caches&&void 0!==caches.keys()&&(console.log("Deleting cache!"),caches.keys().then((function(e){void 0!==e&&e.forEach((function(e){caches.delete(e)}))}))),r("setRefreshingApp",!0),void 0!=t.SWRegistrationForNewContent.waiting?t.SWRegistrationForNewContent.waiting.postMessage("skipWaiting"):setTimeout((function(){void 0!=t.SWRegistrationForNewContent.waiting&&t.SWRegistrationForNewContent.waiting.postMessage("skipWaiting")}),3e3))},dismissServiceWorkerUpdate:function(e){var t=e.state,r=e.commit;Object(u["isNil"])(t.SWRegistrationForNewContent)||r("setSWRegistrationForNewContent",null)},initDeviceID:function(e){var t=e.commit,r=localStorage.getItem("deviceID");null==r&&(r=p(),localStorage.setItem("deviceID",r)),t("setDeviceID",r)},initCurrentLanguage:function(e){e.state;var t=e.commit,r=localStorage.getItem("userPreferredLanguage"),n=null!=r?r:navigator.language;null!=n&&n.indexOf("-")>0&&(n=n.substr(0,n.indexOf("-"))),t("setCurrentLanguage",n)},setNavBarReduced:function(e,t){var r=e.commit;r("setNavBarReduced",t)},showSnackbarInfoMessage:function(e,t){var r=e.commit;r("setSnackbarMessage",t),r("setSnackbarTimeout",2e3),r("setShowSnackbarErrorMessage",!1),r("setShowSnackbarInfoMessage",!0)},showSnackbarInfoMessageTimeout:function(e,t){var r=e.commit,n=t.message,o=t.timeout;r("setSnackbarMessage",n),r("setSnackbarTimeout",o),r("setShowSnackbarErrorMessage",!1),r("setShowSnackbarInfoMessage",!0)},showSnackbarErrorMessage:function(e,t){var r=e.commit;r("setSnackbarMessage",t),r("setSnackbarTimeout",2e3),r("setShowSnackbarInfoMessage",!1),r("setShowSnackbarErrorMessage",!0)},showSnackbarErrorMessageTimeout:function(e,t){var r=e.commit,n=t.message,o=t.timeout;r("setSnackbarMessage",n),r("setSnackbarTimeout",o),r("setShowSnackbarInfoMessage",!1),r("setShowSnackbarErrorMessage",!0)},resetShowSnackbarMessage:function(e){var t=e.commit;t("setShowSnackbarInfoMessage",!1),t("setShowSnackbarErrorMessage",!1)},setOrderNotificationActive:function(e,t){var r=e.commit;r("setOrderNotificationActive",t)},callWaiter:function(e,t){e.state,e.rootState,e.commit;var r=e.dispatch,o=t.hash,i=t.client_id;return ze.state.app.networkOnLine?new Promise((function(e,t){n["default"].axios.post("https://dishcovery.menu/api/v3/restaurants/"+o+"/call-waiter",{client_id:i}).then((function(n){if(void 0!=n.data&&void 0!=n.data.code)return"ok"==n.data.code?(r("setLastCallWaiter",new Date),e(n.data.code)):t(n.data.message);t("Errore server")})).catch((function(e){if(void 0!=e.data&&void 0!=e.data.message)return t(e.data.message);t(e)}))})):new Promise((function(e,t){return t("You are not online!")}))},setLastCallWaiter:function(e,t){var r=e.commit;r("setLastCallWaiter",t)},setDemoVersion:function(e,t){var r=e.commit;r("setDemoVersion",t)}},v={newContentAvailable:function(e){return!Object(u["isNil"])(e.SWRegistrationForNewContent)}},h={namespaced:!0,state:i,mutations:s,actions:m,getters:v},g=r("9ae0");function y(e,t){return O(e)||S(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function S(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(r.push(a.value),t&&r.length===t)break}catch(c){o=!0,i=c}finally{try{n||null==s["return"]||s["return"]()}finally{if(o)throw i}}return r}}function O(e){if(Array.isArray(e))return e}var w=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],C=function(e){return e.length>5&&2==e.indexOf(":")?e.substr(0,5):e},_=function(e,t){var r=new Date(e.getTime()+24*t*60*60*1e3),n=r.getDate(),o=r.getMonth()+1,i=r.getFullYear();return n+"/"+o+"/"+i},k={availableLanguagesAsList:function(e){return e.availableLanguages?e.availableLanguages.map((function(e){return e.code})):[]},getPriceMode:function(e,t){return function(e){var r=t.currencySymbol,n=["/kg","/hg","/g","/lt"];if(null!=e&&e.price_mode&&e.price_mode.length>0){var o=!0,i=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;if(e.price_mode.indexOf(l)>=0){r+=e.price_mode.substr(e.price_mode.indexOf(l));break}}}catch(u){i=!0,a=u}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}return r}},cover:function(e){return void 0!==e.cover?e.cover:0},currencySymbol:function(e){return void 0!==e.currency?e.currency.symbol:"€"},restaurantType:function(e){return void 0!==e.restaurant_type?e.restaurant_type:1},orderInstructionsOverride:function(e){return void 0!=e.ordersoptions&&e.ordersoptions.order_instructions_override},orderInstructionsText:function(e){return void 0!=e.ordersoptions&&void 0!==e.ordersoptions.order_instructions_text?e.ordersoptions.order_instructions_text:""},offlineOrdersEnabled:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.offline_orders_enabled},offlineOrderInstructionsOverride:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.order_instructions_override},offlineOrderInstructionsText:function(e){return void 0!=e.offlineordersoptions&&void 0!==e.offlineordersoptions.order_instructions_text?e.offlineordersoptions.order_instructions_text:""},askForCover:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.ask_for_cover},coverTextOverride:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.cover_text_override},coverText:function(e){return void 0!=e.offlineordersoptions&&void 0!==e.offlineordersoptions.cover_text?e.offlineordersoptions.cover_text:""},askForIdCliente:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.ask_for_id_cliente},idClienteTextOverride:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.id_cliente_text_override},idClienteText:function(e){return void 0!=e.offlineordersoptions&&void 0!==e.offlineordersoptions.id_cliente_text?e.offlineordersoptions.id_cliente_text:""},passwordRequestEnabled:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.password_request_enabled},callWaiterEnabled:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.call_waiter_enabled},callWaiterTextOverride:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.call_waiter_text_override},callWaiterText:function(e){return void 0!=e.offlineordersoptions&&void 0!==e.offlineordersoptions.call_waiter_text?e.offlineordersoptions.call_waiter_text:""},optionalFieldEnabled:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.optional_field_enabled},optionalFieldTextOverride:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.optional_field_text_override},optionalFieldText:function(e){return void 0!=e.offlineordersoptions&&void 0!==e.offlineordersoptions.optional_field_text?e.offlineordersoptions.optional_field_text:""},offlineForcePrivacy:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.force_privacy},offlinePrivacyTextOverride:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.privacy_text_override},offlinePrivacyText:function(e){return void 0!=e.offlineordersoptions&&void 0!==e.offlineordersoptions.privacy_text?e.offlineordersoptions.privacy_text:""},offlinePayForEachOrderEnabled:function(e){return void 0!=e.offlineordersoptions&&e.offlineordersoptions.pay_for_each_order_enabled},offlineTimeSlotsEnabled:function(e){return void 0!=e.offlineordersoptions&&void 0!=e.offlineordersoptions.time_slots_enabled&&e.offlineordersoptions.time_slots_enabled},offlineTimeSlots:function(e){return void 0!=e.offlineorderstimeslots?e.offlineorderstimeslots:[]},offlineTimeSlotsShownDays:function(e,t){if(t.offlineTimeSlotsEnabled&&t.offlineTimeSlots.length>0){for(var r=new Date,n=r.getDay()-1+7,o=[],i=0;i<7;i++){var s=!0,c=!1,l=void 0;try{for(var u,d=t.offlineTimeSlots[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var f=u.value;if(f.day==(n+i)%7)switch(i){case 0:o.push(a["a"].t("Oggi"));break;case 1:o.push(a["a"].t("Domani")+" "+_(r,i));break;default:o.push(a["a"].t(w[f.day%7])+" "+_(r,i));break}}}catch(p){c=!0,l=p}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}}return o}return[]},offlineTimeSlotsShownHours:function(e,t){return function(e){if(t.offlineTimeSlotsEnabled&&t.offlineTimeSlots.length>0&&e>=0){for(var r=new Date,n=r.getDay()-1+7,o=[],i=0;i<7;i++){var a=!0,s=!1,c=void 0;try{for(var l,u=t.offlineTimeSlots[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var d=l.value;d.day==(n+i)%7&&o.push(d.day)}}catch(A){s=!0,c=A}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}}var f=[],p=!0,m=!1,v=void 0;try{for(var h,g=t.offlineTimeSlots[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){d=h.value;if(d.day==o[e]%7)if(d.day!==n%7)f.push(C(d.from)+" - "+C(d.to));else{var b=new Date,S=d.to;"00:00:00"==d.to&&(S="24:00:00");var O=S.split(":"),w=y(O,3),_=w[0],k=w[1],M=w[2];b.setHours(+_),b.setMinutes(+k),b.setSeconds(+M),r<b&&f.push(C(d.from)+" - "+C(d.to))}}}catch(A){m=!0,v=A}finally{try{p||null==g.return||g.return()}finally{if(m)throw v}}return f}return[]}},getOfflineOrdersCashPaymentMethod:function(e){if(void 0!=e.offlineordersoptions&&e.offlineordersoptions.offline_orders_enabled&&void 0!==e.offlineorderspaymentmethods&&e.offlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.offlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("cash")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},offlineCashPaymentEnabled:function(e,t){return void 0!=t.getOfflineOrdersCashPaymentMethod},getOfflineOrdersPaypalPaymentMethod:function(e){if(void 0!=e.offlineordersoptions&&e.offlineordersoptions.offline_orders_enabled&&void 0!==e.offlineorderspaymentmethods&&e.offlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.offlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("paypal")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},offlinePaypalPaymentEnabled:function(e,t){return void 0!=t.getOfflineOrdersPaypalPaymentMethod},getOfflineOrdersSatispayPaymentMethod:function(e){if(void 0!=e.offlineordersoptions&&e.offlineordersoptions.offline_orders_enabled&&void 0!==e.offlineorderspaymentmethods&&e.offlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.offlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("satispay")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},offlineSatispayPaymentEnabled:function(e,t){return void 0!=t.getOfflineOrdersSatispayPaymentMethod},getOfflineOrdersStripePaymentMethod:function(e){if(void 0!=e.offlineordersoptions&&e.offlineordersoptions.offline_orders_enabled&&void 0!==e.offlineorderspaymentmethods&&e.offlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.offlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("stripe")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},offlineStripePaymentEnabled:function(e,t){return void 0!=t.getOfflineOrdersStripePaymentMethod},getOfflineOrdersWhatsappPlatform:function(e){if(e.offlineordersoptions.offline_orders_enabled&&void 0!==e.offlineordersplatforms&&e.offlineordersplatforms.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.offlineordersplatforms[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("whatsapp")>=0&&a.enabled&&void 0!==a.number&&a.number.length>0)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},offlineWhatsappOrderEnabled:function(e,t){return!e.offlineorderswanotifyenabled&&void 0!=t.getOfflineOrdersWhatsappPlatform},onlineOrdersEnabled:function(e){return void 0==e.onlineordersoptions&&void 0!==e.onlineordersplatforms&&e.onlineordersplatforms.length>0||void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled},onlineOrderInstructionsOverride:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.instructions&&e.onlineordersoptions.instructions.trim().length>0},onlineOrderInstructionsText:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.instructions&&e.onlineordersoptions.instructions.trim().length>0?e.onlineordersoptions.instructions:""},phoneEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.phone_enabled&&e.onlineordersoptions.phone_enabled},cfPivaEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.cfiva_enabled&&e.onlineordersoptions.cfiva_enabled},payBeforeForcedMode:function(e){return!e.onlineorderswanotifyenabled&&(void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.pay_before_forced&&e.onlineordersoptions.pay_before_forced)},orderBeforeForcedMode:function(e){return!e.onlineorderswanotifyenabled&&(void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.order_before_forced&&e.onlineordersoptions.order_before_forced)},timeSlotsEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.time_slots_enabled&&e.onlineordersoptions.time_slots_enabled},timeSlots:function(e){return void 0!=e.onlineorderstimeslots?e.onlineorderstimeslots:[]},timeSlotsShownDays:function(e,t){if(t.timeSlotsEnabled&&t.timeSlots.length>0){for(var r=new Date,n=r.getDay()-1+7,o=[],i=0;i<7;i++){var s=!0,c=!1,l=void 0;try{for(var u,d=t.timeSlots[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var f=u.value;if(f.day==(n+i)%7)switch(i){case 0:o.push(a["a"].t("Oggi"));break;case 1:o.push(a["a"].t("Domani")+" "+_(r,i));break;default:o.push(a["a"].t(w[f.day%7])+" "+_(r,i));break}}}catch(p){c=!0,l=p}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}}return o}return[]},timeSlotsShownHours:function(e,t){return function(e){if(t.timeSlotsEnabled&&t.timeSlots.length>0&&e>=0){for(var r=new Date,n=r.getDay()-1+7,o=[],i=0;i<7;i++){var a=!0,s=!1,c=void 0;try{for(var l,u=t.timeSlots[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var d=l.value;d.day==(n+i)%7&&o.push(d.day)}}catch(A){s=!0,c=A}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}}var f=[],p=!0,m=!1,v=void 0;try{for(var h,g=t.timeSlots[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){d=h.value;if(d.day==o[e]%7)if(d.day!==n%7)f.push(C(d.from)+" - "+C(d.to));else{var b=new Date,S=d.to;"00:00:00"==d.to&&(S="24:00:00");var O=S.split(":"),w=y(O,3),_=w[0],k=w[1],M=w[2];b.setHours(+_),b.setMinutes(+k),b.setSeconds(+M),r<b&&f.push(C(d.from)+" - "+C(d.to))}}}catch(A){m=!0,v=A}finally{try{p||null==g.return||g.return()}finally{if(m)throw v}}return f}return[]}},getOnlineOrdersCashPaymentMethod:function(e){if(void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineorderspaymentmethods&&e.onlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("cash")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},cashPaymentEnabled:function(e,t){return void 0!=t.getOnlineOrdersCashPaymentMethod},getOnlineOrdersPaypalPaymentMethod:function(e){if(void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineorderspaymentmethods&&e.onlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("paypal")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},onlinePaypalPaymentEnabled:function(e,t){return void 0!=t.getOnlineOrdersPaypalPaymentMethod},getOnlineOrdersSatispayPaymentMethod:function(e){if(void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineorderspaymentmethods&&e.onlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("satispay")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},onlineSatispayPaymentEnabled:function(e,t){return void 0!=t.getOnlineOrdersSatispayPaymentMethod},getOnlineOrdersStripePaymentMethod:function(e){if(void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineorderspaymentmethods&&e.onlineorderspaymentmethods.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineorderspaymentmethods[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("stripe")>=0&&a.enabled)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},onlineStripePaymentEnabled:function(e,t){return void 0!=t.getOnlineOrdersStripePaymentMethod},takeAwayEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.take_away_enabled&&e.onlineordersoptions.take_away_enabled},shippingEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.shipping_enabled&&e.onlineordersoptions.shipping_enabled},shippingCost:function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.shipping_cost){var n=e.onlineordersoptions.shipping_cost,o=0;if(t.maxRadiusEnabled&&t.deliveryRadii.length>0){n=void 0;var i=!0,a=!1,s=void 0;try{for(var c,l=t.deliveryRadii[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;if(void 0==n&&(n=u.shipping_cost),console.log("comparing "+r+" of  "+o+" with "+u.radius),!(r>o&&o<u.radius))break;o=u.radius,n=u.shipping_cost}}catch(d){a=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}return n}return 0}},thresholdEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.threshold_enabled&&e.onlineordersoptions.threshold_enabled},shippingThreshold:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.shipping_threshold?e.onlineordersoptions.shipping_threshold:0},shippingThresholdCost:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.shipping_threshold_cost?e.onlineordersoptions.shipping_threshold_cost:0},maxRadiusEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.max_radius_enabled&&e.onlineordersoptions.max_radius_enabled},deliveryRadii:function(e,t){return void 0!=e.onlineordersoptions&&t.maxRadiusEnabled&&void 0!=e.deliveryRadii?e.deliveryRadii:[]},maximumCumulativeDeliveryRadius:function(e,t){if(void 0!=e.onlineordersoptions&&t.maxRadiusEnabled){var r=0;if(t.deliveryRadii.length>0){var n=!0,o=!1,i=void 0;try{for(var a,s=t.deliveryRadii[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;r<c.radius&&(r=c.radius)}}catch(l){o=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}return r}return Number.MAX_SAFE_INTEGER},isShippingAvailable:function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(void 0!=e.onlineordersoptions&&t.shippingEnabled){if(t.maxRadiusEnabled){var n=t.maximumCumulativeDeliveryRadius;return r<=n}return!0}return!1}},minimumOrderEnabled:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.minimum_order_enabled&&e.onlineordersoptions.minimum_order_enabled},minimumOrderAmount:function(e){return void 0!=e.onlineordersoptions&&void 0!=e.onlineordersoptions.minimum_order_amount?e.onlineordersoptions.minimum_order_amount:0},onlineForcePrivacy:function(e){return void 0!=e.onlineordersoptions&&0!==e.onlineordersoptions.force_privacy},onlinePrivacyTextOverride:function(e){return void 0!=e.onlineordersoptions&&e.onlineordersoptions.privacy_text_override},onlinePrivacyText:function(e){return void 0!=e.onlineordersoptions&&void 0!==e.onlineordersoptions.privacy_text?e.onlineordersoptions.privacy_text:""},getOnlineOrdersWhatsappPlatform:function(e){if(e.onlineorderswanotifyenabled)return!1;if(void 0==e.onlineordersoptions)return void 0!==e.onlineordersplatforms&&e.onlineordersplatforms.length>0?e.onlineordersplatforms[0]:void 0;if(e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineordersplatforms&&e.onlineordersplatforms.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineordersplatforms[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("whatsapp")>=0&&a.enabled&&void 0!==a.number&&a.number.length>0)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},onlineWhatsappOrderEnabled:function(e,t){return!e.onlineorderswanotifyenabled&&void 0!=t.getOnlineOrdersWhatsappPlatform},getOnlineOrdersMailPlatform:function(e){if(e.onlineorderswanotifyenabled)return!1;if(void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineordersplatforms&&e.onlineordersplatforms.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineordersplatforms[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("email")>=0&&a.enabled&&void 0!==a.number&&a.number.length>0)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},onlineMailOrderEnabled:function(e,t){return!e.onlineorderswanotifyenabled&&void 0!=t.getOnlineOrdersMailPlatform},getOnlineOrdersPhonePlatform:function(e){if(e.onlineorderswanotifyenabled)return!1;if(void 0!=e.onlineordersoptions&&e.onlineordersoptions.online_orders_enabled&&void 0!==e.onlineordersplatforms&&e.onlineordersplatforms.length>0){var t=!0,r=!1,n=void 0;try{for(var o,i=e.onlineordersplatforms[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(void 0!=a.name&&a.name.indexOf("phone")>=0&&a.enabled&&void 0!==a.number&&a.number.length>0)return a}}catch(s){r=!0,n=s}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},onlinePhoneOrderEnabled:function(e,t){return!e.onlineorderswanotifyenabled&&void 0!=t.getOnlineOrdersPhonePlatform},isLangRTL:function(e){return function(t){var r=e.availableLanguages.find((function(e){return e.code===t}));return!!r&&1===r.rtl}}},M={getRestaurantInfo:function(e,t){var r=e.commit,n=e.state,o=e.rootState;return new Promise((function(e,i){Object(g["c"])(n.hash,t).then((function(n){n?(r("fillRestaurantWithLightInfo",n),Object(g["d"])(o,t),e()):(console.log("error retrieving restaurant data"),i())})).catch((function(e){i(e)}))}))},getFullRestaurantInfo:function(e,t){var r=e.commit,n=e.state,o=e.rootState,i=e.dispatch;return new Promise((function(e,a){Object(g["b"])(n.hash,t).then((function(s){s?Object(g["f"])(n.hash,s).then((function(n){if(n&&(r("registration/setFormFields",s.registrationfields,{root:!0}),null!==localStorage.getItem("regDone"))){var a=localStorage.getItem("regDone");if(null!==a){var c=JSON.parse(a);new Date(c.expires).getTime()>=(new Date).getTime()&&r("registration/setRegDone",1,{root:!0})}}r("fillRestaurantWithFullInfo",s),r("specialmenus/setSpecialMenus",s.specialmenus,{root:!0}),r("categories/setMenuCategories",s.menucategories,{root:!0}),r("categories/setDrinkCategories",s.menudrinkcategories,{root:!0}),i("cart/loadCartState",null,{root:!0}),i("itemsoptions/loadItemOptionsState",null,{root:!0}),i("initDemoVersion",s.subscription),Object(g["d"])(o,t),i("items/setItems",s.menuentries,{root:!0}),e()})):(console.log("error retrieving restaurant data"),a())})).catch((function(e){console.log("errorfull "+JSON.stringify(e)),a(e)}))}))},initDemoVersion:function(e,t){var r=e.commit,n=0;void 0!==t&&t.length>0&&(n=t[0].type_id),r("app/setDemoVersion",1===n,{root:!0})},initializeRestaurant:function(e,t){var r=e.commit,n=e.state,o=e.rootState,i=e.dispatch,s=t.hash,c=t.showSplash;return o.app.splashShown?new Promise((function(e){return e()})):(r("app/setShowSplashScreen",c,{root:!0}),r("app/setSplashShown",!c,{root:!0}),new Promise((function(e,t){r("setHash",s),Promise.all([new Promise((function(e){setTimeout(e,c?2e3:1e3)})),i("getRestaurantInfo",o.app.currentLanguage)]).then((function(t){o.app.currentLanguage.toLowerCase()!==n.currentLanguage.code.toLowerCase()?(r("app/setShowLanguageChooser",!0,{root:!0}),new Promise((function(e){return setTimeout(e,500)})).then((function(){r("app/setSplashShown",!0,{root:!0})}))):(Object(a["b"])(o.app.currentLanguage.toString().toLowerCase()),i("restaurant/getFullRestaurantInfo",o.app.currentLanguage,{root:!0}).then((function(){r("app/setSplashShown",!0,{root:!0})})).catch((function(e){console.log("loading from cache2 "+JSON.stringify(e))}))),e(),i("orders/getMyOrders",null,{root:!0}).then((function(e){})).catch((function(e){console.log("error loading orders "+JSON.stringify(e))})),setInterval((function(){i("orders/getMyOrders",null,{root:!0}).then((function(e){})).catch((function(e){console.log("error loading orders "+JSON.stringify(e))}))}),12e4)}),(function(e){null!=e&&(console.log("loading from cache "+JSON.stringify(e)+" "+e.type+" "+e.hash),"redirect"===e.type&&""!==e.hash&&(location.replace(location.href.substring(0,location.href.indexOf(n.hash))+e.hash),i("initializeRestaurant",e.hash))),t(e)}))})))}},A={setHash:function(e,t){e.hash=t},fillRestaurantWithLightInfo:function(e,t){e.previewMode=t.previewMode,e.restaurant_type=t.restaurant_type,e.name=t.name,e.location=t.location,e.rid=t.rid,e.restaurant=t.restaurant,e.restaurantGroups=t.groups,e.currency=t.currency,e.image=t.image,e.logo=t.logo,e.colorContrast1=t.colorContrast1,e.colorContrast2=t.colorContrast2,e.color=t.color,e.color1=t.color1,e.color2=t.color2,e.currentLanguage=t.currentLanguage,e.rtl=t.rtl,e.availableLanguages=t.languagesAvailable?t.languagesAvailable:t.availableLanguages},fillRestaurantWithFullInfo:function(e,t){e.description=t.description,e.freetext=t.freetext,e.cover=t.cover,e.atleastonefrozen=t.atleastonefrozen,e.buyableMenuEntriesCount=t.buyablemenuentries_count,e.reviewslinks=t.reviewslinks,e.socialsharelinks=t.socialsharelinks,e.onlineorderspaymentmethods=t.onlineorderspaymentmethods,e.onlineordersplatforms=t.onlineordersplatforms,e.onlineorderstimeslots=t.onlineorderstimeslots,e.onlineorderswanotifyenabled=t.onlineorderswanotifyenabled,e.onlineordersoptions=void 0!==t.onlineordersoptions?t.onlineordersoptions[0]:void 0,e.ordersoptions=void 0!==t.ordersoptions?t.ordersoptions[0]:void 0,e.offlineordersoptions=void 0!==t.offlineordersoptions?t.offlineordersoptions[0]:void 0,e.offlineordersplatforms=t.offlineordersplatforms,e.offlineorderspaymentmethods=t.offlineorderspaymentmethods,e.offlineorderstimeslots=t.offlineorderstimeslots,e.offlineorderswanotifyenabled=t.offlineorderswanotifyenabled,e.deliveryRadii=t.deliveryRadii,null!=e.deliveryRadii&&e.deliveryRadii.length>1&&(e.deliveryRadii=e.deliveryRadii.sort((function(e,t){return e.radius<t.radius?-1:1}))),e.menuorderpref=void 0!==t.menuorderpref?t.menuorderpref:0,e.menuspec=t.menuspec,e.menucarta=t.menucarta,e.vinicarta=t.vinicarta,void 0!==e.menuspec&&(e.menuspecdisabled=e.menuspec.disabled),void 0!==e.menucarta&&(e.menucartadisabled=e.menucarta.disabled),void 0!==e.vinicarta&&(e.vinicartadisabled=e.vinicarta.disabled)}},I={previewMode:0,restaurant_type:void 0,name:"",location:void 0,currency:"€",rid:-1,restaurant:null,restaurantGroups:[],image:null,logo:null,colorContrast1:"#000000",colorContrast2:"#000000",color:"#ffffff",color1:"#ffffff",color2:"#000000",currentLanguage:null,rtl:0,availableLanguages:null,description:null,atleastonefrozen:!1,reviewslinks:[],socialsharelinks:[],ordersoptions:void 0,offlineordersoptions:void 0,offlineorderspaymentmethods:[],offlineordersplatforms:[],offlineorderstimeslots:[],offlineorderswanotifyenabled:!1,onlineordersoptions:void 0,onlineorderspaymentmethods:[],onlineordersplatforms:[],onlineorderstimeslots:[],onlineorderswanotifyenabled:!1,deliveryRadii:[],menuspecdisabled:!1,menucartadisabled:!1,vinicartadisabled:!1,menuorderpref:0,menuspec:{name:"",image:""},menucarta:{name:"",image:""},vinicarta:{name:"",image:""},menutypes:[],freetext:null,cover:null,buyableMenuEntriesCount:0,hash:""},x={namespaced:!0,state:I,getters:k,actions:M,mutations:A},P={menuCategoriesWithChildren:[],menuDrinkCategoriesWithChildren:[],menuCategories:[],menuDrinkCategories:[],currentMenuCategory:void 0},T={getAllCategories:function(e){return e.menuCategories.concat(e.menuDrinkCategories)},getMenuCategories:function(e){return e.menuCategories},getDrinkCategories:function(e){return e.menuDrinkCategories},getCategoryById:function(e){return function(t){return e.menuCategories.concat(e.menuDrinkCategories).find((function(e){return e.id===t}))}},categoryHasSubCategoriesVisible:function(e){return function(t){var r=e.menuCategories.concat(e.menuDrinkCategories).find((function(e){return e.id===t}));return void 0!==r&&void 0!==r.children&&void 0!==r.children.find((function(e){return e.visible}))}}},E={setCurrentMenuCategory:function(e,t){var r=e.commit,n=e.state,o=n.menuCategoriesWithChildren.find((function(e){return e.id===t}));void 0==o&&(o=n.menuDrinkCategoriesWithChildren.find((function(e){return e.id===t}))),r("setCurrentMenuCategory",o)}},D={setMenuCategories:function(e,t){e.menuCategories=t.filter((function(e){return 0==e.parent_id})),e.menuCategoriesWithChildren=t},setDrinkCategories:function(e,t){e.menuDrinkCategories=t.filter((function(e){return 0==e.parent_id})),e.menuDrinkCategoriesWithChildren=t},setCurrentMenuCategory:function(e,t){e.currentMenuCategory=t}},N={namespaced:!0,state:P,getters:T,actions:E,mutations:D},j={all:[],currentItem:void 0},F={itemMenuTextForGA:function(e,t,r,n){return function(e){var t="";try{var r="|",o=e,i=n["items/getItem"](o.id);void 0!==i&&(t+=void 0!==i.name_orig?i.name_orig:i.name);if(void 0!==o.menuentryvariants&&o.menuentryvariants.length>0){t+=" (";var a=!0,s=!1,c=void 0;try{for(var l,u=o.menuentryvariants[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var d=l.value;if(t=t+(void 0!==d.name_orig?d.name_orig:d.name)+": ",void 0!==d.optionsselected){var f=!0,p=!1,m=void 0;try{for(var v,h=d.optionsselected[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){var g=v.value;t=t+(void 0!==g.name_orig?g.name_orig:g.name)+r}}catch(y){p=!0,m=y}finally{try{f||null==h.return||h.return()}finally{if(p)throw m}}}t+=","}}catch(y){s=!0,c=y}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}t+=")"}}catch(b){console.log("error constructing item text for event "+b.message)}return t}},getAllItems:function(e){return e.all},getItemsInCategory:function(e){return function(t){return e.all.filter((function(e){return e.category_id===t&&1!==e.onlyspecial})).sort((function(e,t){return e.order-t.order}))}},getItem:function(e){return function(t){return e.all.find((function(e){return e.id===t}))}},hasPrice:function(e){return function(e){return void 0!==e&&e.price&&e.price.length>0}}},R={setCurrentItem:function(e,t){var r=e.commit,n=e.state,o=n.all.find((function(e){return e.id===t}));r("setCurrentItem",o)},setItems:function(e,t){e.state,e.rootState;var r=e.commit;r("setItems",t)}},L={setItems:function(e,t){if(e.all=t,e.currentItem){var r=e.all.find((function(t){return t.id===e.currentItem.id}));e.currentItem=r}},setCurrentItem:function(e,t){e.currentItem=t}},V={namespaced:!0,state:j,getters:F,actions:R,mutations:L},W={items:[],itemsSpecial:[],itemsCount:0,currentCartItem:null,currentCartSpecialItem:null,checkoutStatus:null,cartTotalPrice:0,cartUser:null},z=function(e,t,r){return e.every((function(n){return t.find((function(e){return e[r]===n[r]}))&&t.every((function(t,n,o){return e.find((function(e){return e[r]===t[r]}))}))}))},U=function(e,t){return e.id===t.id&&(void 0===e.menuentryvariants&&void 0===t.menuentryvariants||void 0!==e.menuentryvariants&&e.menuentryvariants.every((function(e){return void 0!==t.menuentryvariants&&t.menuentryvariants.find((function(t){return t.id===e.id&&z(t.optionsselected,e.optionsselected,"id")}))}))&&void 0!==t.menuentryvariants&&t.menuentryvariants.every((function(t){return void 0!==e.menuentryvariants&&e.menuentryvariants.find((function(e){return e.id===t.id&&z(e.optionsselected,t.optionsselected,"id")}))})))&&([void 0,""].indexOf(e.notes)>=0&&[void 0,""].indexOf(t.notes)>=0||e.notes===t.notes)},J=function(e,t){return e.id===t.id&&(void 0===e.menuentries&&void 0===t.menuentries||void 0!==e.menuentries&&e.menuentries.every((function(e){return t.menuentries.find((function(t){return t.id===e.id&&U(t,e)}))}))&&void 0!==t.menuentries&&t.menuentries.every((function(t){return e.menuentries.find((function(e){return e.id===t.id&&U(e,t)}))})))},B=function(e,t){void 0!==e.notes&&(void 0!==t?t+="\n"+e.notes:t=e.notes)},q={getMenuCartaOrderText:function(e,t,r,n){var o="",i=decodeURIComponent("%0D%0A");if(void 0!==t.cartCategoriesAndProducts&&t.cartCategoriesAndProducts.length>0){var a=!0,s=!1,c=void 0;try{for(var l,u=t.cartCategoriesAndProducts[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var d=l.value,f=!0,p=!1,m=void 0;try{for(var v,h=d.menuentries[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){var g=v.value,y=n["items/getItem"](g.id),b=t.itemQuantityInCart(g);if(void 0!==y&&void 0!==b){o=o+b+" x "+(void 0!==y.name_orig?y.name_orig:y.name)+(void 0!=y.price?" ("+y.price+n["restaurant/currencySymbol"]+")":"")+i;var S=!1;void 0!==g.menuentryvariants&&g.menuentryvariants.length>0&&(S=!0,g.menuentryvariants.forEach((function(e,t){o=o+"  "+(void 0!==e.name_orig?e.name_orig:e.name)+i,void 0!==e.optionsselected&&e.optionsselected.forEach((function(e,t){void 0==e.pricemodifier||isNaN(parseFloat(e.pricemodifier))||(o=o+"    "+(void 0!==e.name_orig?e.name_orig:e.name)+(void 0!=e.pricemodifier?" ("+e.pricemodifier+n["restaurant/currencySymbol"]+")":"")+i)}))}))),void 0!==g.notes&&g.notes.length>0&&(S=!0,o=o+"Note:"+i+g.notes+i),S&&(o+=i)}}}catch(O){p=!0,m=O}finally{try{f||null==h.return||h.return()}finally{if(p)throw m}}}}catch(O){s=!0,c=O}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}}return o},getSpecialMenusOrderText:function(e,t,r,n){var o="",i=decodeURIComponent("%0D%0A");if(void 0!==e.itemsSpecial&&e.itemsSpecial.length>0){var a=!0,s=!1,c=void 0;try{for(var l,u=e.itemsSpecial[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var d=l.value,f=d,p=t.itemSpecialQuantityInCart(d);if(void 0!==f&&void 0!==p){o=o+p+" x "+(void 0!==f.name_orig?f.name_orig:f.name)+(void 0!=f.price?" ("+f.price+n["restaurant/currencySymbol"]+")":"")+":"+i;var m=!0,v=!1,h=void 0;try{for(var g,y=f.menuentries[Symbol.iterator]();!(m=(g=y.next()).done);m=!0){var b=g.value,S=n["items/getItem"](b.id);void 0!==S&&(o=o+(void 0!==S.name_orig?S.name_orig:S.name)+(void 0!=S.price?" ("+S.price+n["restaurant/currencySymbol"]+")":"")+i);var O=!1;if(void 0!==b.menuentryvariants&&b.menuentryvariants.length>0){O=!0;var w=!0,C=!1,_=void 0;try{for(var k,M=b.menuentryvariants[Symbol.iterator]();!(w=(k=M.next()).done);w=!0){var A=k.value;if(o=o+"  "+(void 0!==A.name_orig?A.name_orig:A.name)+i,void 0!==A.optionsselected){var I=!0,x=!1,P=void 0;try{for(var T,E=A.optionsselected[Symbol.iterator]();!(I=(T=E.next()).done);I=!0){var D=T.value;void 0==D.pricemodifier||isNaN(parseFloat(D.pricemodifier))||(o=o+"    "+(void 0!==D.name_orig?D.name_orig:D.name)+(void 0!=D.pricemodifier?" ("+D.pricemodifier+n["restaurant/currencySymbol"]+")":"")+i)}}catch(N){x=!0,P=N}finally{try{I||null==E.return||E.return()}finally{if(x)throw P}}}}}catch(N){C=!0,_=N}finally{try{w||null==M.return||M.return()}finally{if(C)throw _}}}void 0!==b.notes&&b.notes.length>0&&(O=!0,o=o+"Note:"+i+b.notes+i),O&&(o+=i)}}catch(N){v=!0,h=N}finally{try{m||null==y.return||y.return()}finally{if(v)throw h}}}}}catch(N){s=!0,c=N}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}}return o},getOrderRows:function(e,t,r,n){var o=[],i=decodeURIComponent("%0D%0A");if(void 0!==t.cartCategoriesAndProducts&&t.cartCategoriesAndProducts.length>0){var a=!0,s=!1,c=void 0;try{for(var l,u=t.cartCategoriesAndProducts[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var d=l.value,f=!0,p=!1,m=void 0;try{for(var v,h=d.menuentries[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){var g=v.value,y=n["items/getItem"](g.id),b=t.itemQuantityInCart(g);if(void 0!==y&&void 0!==b){var S=void 0!=y.price?parseFloat(y.price):0,O="";void 0!==g.menuentryvariants&&g.menuentryvariants.length>0&&g.menuentryvariants.forEach((function(e,t){O=O+(void 0!==e.name_orig?e.name_orig:e.name)+i,void 0!==e.optionsselected&&e.optionsselected.forEach((function(e,t){void 0==e.pricemodifier||isNaN(parseFloat(e.pricemodifier))||(S+=parseFloat(e.pricemodifier),O=O+"  "+(void 0!==e.name_orig?e.name_orig:e.name)+(void 0!=e.pricemodifier?" ("+e.pricemodifier+n["restaurant/currencySymbol"]+")":"")+i)}))})),void 0!==g.notes&&g.notes.length>0&&(O=O+"Note:"+i+g.notes+i),o.push({entryId:y.id,quantity:b,entry_id:y.id,entry_name:void 0!==y.name_orig?y.name_orig:y.name,type:"menu-entry",cost:S,details:O})}}}catch(K){p=!0,m=K}finally{try{f||null==h.return||h.return()}finally{if(p)throw m}}}}catch(K){s=!0,c=K}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}}if(void 0!==e.itemsSpecial&&e.itemsSpecial.length>0){var w=!0,C=!1,_=void 0;try{for(var k,M=e.itemsSpecial[Symbol.iterator]();!(w=(k=M.next()).done);w=!0){var A=k.value,I=A,x=t.itemSpecialQuantityInCart(A);if(void 0!==I&&void 0!==x){var P=void 0!=I.price?parseFloat(I.price):0,T=[],E=!0,D=!1,N=void 0;try{for(var j,F=I.menuentries[Symbol.iterator]();!(E=(j=F.next()).done);E=!0){var R=j.value,L=n["items/getItem"](R.id);if(void 0!==L){S=void 0!=L.price?parseFloat(L.price):0;var V="";if(void 0!==R.menuentryvariants&&R.menuentryvariants.length>0){var W=!0,z=!1,U=void 0;try{for(var J,B=R.menuentryvariants[Symbol.iterator]();!(W=(J=B.next()).done);W=!0){var q=J.value;if(V=V+(void 0!==q.name_orig?q.name_orig:q.name)+i,void 0!==q.optionsselected){var G=!0,H=!1,$=void 0;try{for(var Q,Z=q.optionsselected[Symbol.iterator]();!(G=(Q=Z.next()).done);G=!0){var Y=Q.value;void 0==Y.pricemodifier||isNaN(parseFloat(Y.pricemodifier))||(P+=parseFloat(Y.pricemodifier),S+=parseFloat(Y.pricemodifier),V=V+"  "+(void 0!==Y.name_orig?Y.name_orig:Y.name)+(void 0!=Y.pricemodifier?" ("+Y.pricemodifier+n["restaurant/currencySymbol"]+")":"")+i)}}catch(K){H=!0,$=K}finally{try{G||null==Z.return||Z.return()}finally{if(H)throw $}}}}}catch(K){z=!0,U=K}finally{try{W||null==B.return||B.return()}finally{if(z)throw U}}}void 0!==R.notes&&R.notes.length>0&&(V=V+"Note:"+i+R.notes+i),T.push({quantity:1,entry_id:L.id,entry_name:void 0!==L.name_orig?L.name_orig:L.name,type:"menu-entry",cost:S,details:V})}}}catch(K){D=!0,N=K}finally{try{E||null==F.return||F.return()}finally{if(D)throw N}}o.push({entryId:I.id,quantity:x,entry_id:I.id,type:"special-menu",entry_name:void 0!==I.name_orig?I.name_orig:I.name,cost:P,details:null,subOrderRows:T})}}}catch(K){C=!0,_=K}finally{try{w||null==M.return||M.return()}finally{if(C)throw _}}}return o},cartCategoriesAndProducts:function(e,t,r){var n={},o=[];return e.items.forEach((function(e){var t,i=r.items.all.find((function(t){return t.id===e.id}));if(i&&(i.category_id&&(void 0!==n[i.category_id]?t=n[i.category_id]:(t=r.categories.menuCategories.concat(r.categories.menuDrinkCategories).find((function(e){return e.id===i.category_id})),t?n[t.id]=t:r.categories.menuCategories.concat(r.categories.menuDrinkCategories).forEach((function(e){e.children&&(e.children.forEach((function(e){e.id===i.category_id&&(t=e)})),t&&(n[t.id]=t))}))),t))){var a=o.find((function(e){return e.id===t.id}));a?a.menuentries.push(e):o.push({id:t.id,name:t.name,name_orig:t.name_orig,order:t.order,menuentries:[e]})}})),o.sort((function(e,t){return e.order>t.order?1:-1})),o},isItemInCart:function(e,t){return function(t){return e.items.filter((function(e){return U(e,t)})).length>0}},isItemSkippingVariantsComboInCart:function(e,t){return function(t){return e.items.filter((function(e){return e.id==t.id})).length>0}},getItemFromCart:function(e,t){return function(t){if(void 0!=t)return e.items.filter((function(e){return U(e,t)}))[0]}},isItemSpecialInCart:function(e,t){return function(t){return e.itemsSpecial.filter((function(e){return J(e,t)})).length>0}},getItemSpecialFromCart:function(e,t){return function(t){return e.itemsSpecial.filter((function(e){return J(e,t)}))[0]}},itemQuantitySkippingVariantsComboInCart:function(e,t){return function(t){var r=e.items.filter((function(e){return e.id===t.id})),n=0;if(r.length>0){var o=!0,i=!1,a=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;n+=l.quantity}}catch(u){i=!0,a=u}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}return n}},itemQuantityInCart:function(e,t){return function(t){var r=e.items.find((function(e){return U(e,t)}));return r?r.quantity:0}},itemSpecialQuantityInCart:function(e,t){return function(t){var r=e.itemsSpecial.find((function(e){return J(e,t)}));return r?r.quantity:0}},areMenuEntriesEqual:function(e,t){return function(e,t){return U(e,t)}}},G=function(e,t){var r=e.items.all.findIndex((function(e){return e.id===t}));return r>=0},H=function(e,t){if(void 0===e.specialmenus||void 0===e.specialmenus.specialMenus)return!1;var r=e.specialmenus.specialMenus.findIndex((function(e){return e.id==parseInt(t.toString().split("-")[0])}));return r>=0},$=function(e){if(e.restaurant&&e.restaurant.hash){var t=JSON.parse(localStorage.getItem(e.restaurant.hash+"cart"));null==t&&(t={}),t.cartItems=e.cart.items,t.cartItemsSpecial=e.cart.itemsSpecial,t.cartUser=e.cart.cartUser,localStorage.setItem(e.restaurant.hash+"cart",JSON.stringify(t))}},Q=function(e){var t=0;if(e.cart.items.length>0){var r=!0,n=!1,o=void 0;try{for(var i,a=function(){var r=i.value,n=e.items.all.find((function(e){return e.id===r.id}));void 0!==n&&n.buyable&&(m=void 0==n.price||isNaN(parseFloat(n.price))?0:parseFloat(n.price),v=0,void 0!==r.menuentryvariants&&r.menuentryvariants.forEach((function(e,t){e.optionsselected.forEach((function(e,t){void 0==e.pricemodifier||isNaN(parseFloat(e.pricemodifier))||(v+=parseFloat(e.pricemodifier))}))})),t+=(m+v)*r.quantity)},s=e.cart.items[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){a()}}catch(h){n=!0,o=h}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}if(e.cart.itemsSpecial.length>0){var c=!0,l=!1,u=void 0;try{for(var d,f=function(){var r=d.value,n=e.specialmenus.specialMenus.find((function(e){return e.id===r.id}));if(void 0!==n){if(m=void 0==n.price||isNaN(parseFloat(n.price))?0:parseFloat(n.price),v=0,void 0!==r.menuentries){var o=!0,i=!1,a=void 0;try{for(var s,c=r.menuentries[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;if(void 0!==l.menuentryvariants){var u=!0,f=!1,p=void 0;try{for(var g,y=l.menuentryvariants[Symbol.iterator]();!(u=(g=y.next()).done);u=!0){var b=g.value;if(void 0!==b.optionsselected){var S=!0,O=!1,w=void 0;try{for(var C,_=b.optionsselected[Symbol.iterator]();!(S=(C=_.next()).done);S=!0){var k=C.value;void 0==k.pricemodifier||isNaN(parseFloat(k.pricemodifier))||(v+=parseFloat(k.pricemodifier))}}catch(h){O=!0,w=h}finally{try{S||null==_.return||_.return()}finally{if(O)throw w}}}}}catch(h){f=!0,p=h}finally{try{u||null==y.return||y.return()}finally{if(f)throw p}}}}}catch(h){i=!0,a=h}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}}t+=(m+v)*r.quantity}},p=e.cart.itemsSpecial[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var m,v;f()}}catch(h){l=!0,u=h}finally{try{c||null==p.return||p.return()}finally{if(l)throw u}}}return t},Z=function(e){var t=0;if(e.items.length>0){var r=!0,n=!1,o=void 0;try{for(var i,a=e.items[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;void 0!==s.quantity&&(t+=s.quantity)}}catch(m){n=!0,o=m}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}if(e.itemsSpecial.length>0){var c=!0,l=!1,u=void 0;try{for(var d,f=e.itemsSpecial[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;void 0!==p.quantity&&(t+=p.quantity)}}catch(m){l=!0,u=m}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}return t},Y={showCartNotEditable:function(e){var t=e.dispatch;e.state,e.rootState,e.commit;t("app/showSnackbarErrorMessageTimeout",{message:a["a"].t("Ordine già pagato, non modificabile. Inviarlo o vuotare il carrello per procedere con il successivo."),timeout:5e3},{root:!0})},emptyCart:function(e){var t=e.commit,r=e.rootState;t("setCheckoutStatus",null),t("setCartItems",{items:[]}),t("setCartItemsSpecial",{itemsSpecial:[]}),t("setCartTotalPrice",0),$(r)},updateProductInCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit,a=t.originalData,s=t.itemData;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(s){var c=n.items.find((function(e){return U(e,a)}));if(c){var l=n.items.find((function(e){return U(e,s)}));l?i("mergeProductInCart",{itemDataToKeep:l,itemDataToDelete:c}):i("updateItem",{originalData:a,itemData:s})}i("setCartTotalPrice",Q(o))}},mergeProductInCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit,a=t.itemDataToKeep,s=t.itemDataToDelete;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(a&&s){i("setCheckoutStatus",null);var c=n.items.find((function(e){return U(e,a)})),l=n.items.find((function(e){return U(e,s)}));c&&l&&i("mergeProductInCart",{itemDataToKeep:c,itemDataToDelete:l}),i("setCartTotalPrice",Q(o)),$(o)}},addProductToCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(t){i("setCheckoutStatus",null);var a=n.items.find((function(e){return U(e,t)}));i(a?"incrementItemQuantity":"pushProductToCart",{itemData:t}),i("setCartTotalPrice",Q(o)),$(o)}},removeProductFromCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(t){i("setCheckoutStatus",null);var a=n.items.find((function(e){return U(e,t)}));a&&(a.quantity>1?i("decrementItemQuantity",{itemData:t}):i("popProductFromCart",{itemData:t})),i("setCartTotalPrice",Q(o)),$(o)}},removeProductSkippingVariantsComboFromCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(t){i("setCheckoutStatus",null);var a=n.items.filter((function(e){return e.id==t.id}));a.length>0&&(a[a.length-1].quantity>1?i("decrementItemSkippingVariantsComboQuantity",{itemData:t}):i("popProductSkippingVariantsComboFromCart",{itemData:t})),i("setCartTotalPrice",Q(o)),$(o)}},setCurrentCartItem:function(e,t){var r=e.commit;e.state;r("setCurrentCartItem",t)},setCartUser:function(e,t){var r=e.commit,n=e.rootState;e.state;console.log("setting cart user "+JSON.stringify(t)),r("setCartUser",t),$(n)},resetCartUser:function(e){var t=e.commit,r=e.rootState;e.state;t("setCartUser",void 0),$(r)},addSpecialMenuToCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(t){i("setCheckoutStatus",null);var a=n.itemsSpecial.filter((function(e){return J(e,t)}));0==a.length?i("pushSpecialMenuToCart",{specialMenu:t}):i("incrementSpecialItemQuantity",{specialMenu:t}),i("setCartTotalPrice",Q(o)),$(o)}},updateSpecialProductInCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit,a=t.specialMenuOriginal,s=t.specialMenuTarget;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(a&&s){var c=n.itemsSpecial.filter((function(e){return J(e,a)}));if(1==c.length){var l=n.itemsSpecial.filter((function(e){return J(e,s)}));1==l.length?i("mergeSpecialProductInCart",{itemDataToKeep:l[0],itemDataToDelete:a}):i("updateSpecialItem",{originalData:a,itemData:s})}i("setCartTotalPrice",Q(o))}},removeSpecialMenuFromCart:function(e,t){var r=e.dispatch,n=e.state,o=e.rootState,i=e.commit;if(o.orders.paymentSuccessful)r("showCartNotEditable");else if(t){i("setCheckoutStatus",null);var a=n.itemsSpecial.find((function(e){return J(e,t)}));a&&(a.quantity>1?i("decrementSpecialItemQuantity",{specialMenu:t}):i("popSpecialMenuFromCart",{specialMenu:t})),i("setCartTotalPrice",Q(o)),$(o)}},loadCartState:function(e){e.state;var t=e.rootState,r=e.commit;if(t.restaurant&&t.restaurant.hash&&localStorage.getItem(t.restaurant.hash+"cart")){var n=JSON.parse(localStorage.getItem(t.restaurant.hash+"cart"));if(void 0!=n.cartItems&&n.cartItems.length>0){var o=[];n.cartItems.forEach((function(e){void 0!=e.id&&G(t,e.id)&&o.push(e)})),r("setCartItems",{items:o})}if(void 0!=n.cartItemsSpecial&&n.cartItemsSpecial.length>0){var i=[];n.cartItemsSpecial.forEach((function(e){void 0!=e.id&&H(t,e.id)&&i.push(e)})),r("setCartItemsSpecial",{itemsSpecial:i})}r("setCartUser",n.cartUser),r("setCartTotalPrice",Q(t))}}},K={pushProductToCart:function(e,t){var r=t.itemData,n=r;n.quantity=1,e.items.push(n),e.itemsCount++},setCurrentCartItem:function(e,t){e.currentCartItem=t},setCurrentCartSpecialItem:function(e,t){e.currentCartSpecialItem=t},popProductFromCart:function(e,t){var r=t.itemData,n=e.items.findIndex((function(e){return U(e,r)}));n>=0&&(e.items.splice(n,1),e.itemsCount=Z(e))},mergeProductInCart:function(e,t){var r=t.itemDataToKeep,n=t.itemDataToDelete,o=e.items.findIndex((function(e){return U(e,r)})),i=e.items.findIndex((function(e){return U(e,n)}));o>=0&&i>=0&&(e.items[o].quantity+=e.items[i].quantity,B(e.items[i],e.items[o]),e.items.splice(i,1),e.itemsCount=Z(e))},popProductSkippingVariantsComboFromCart:function(e,t){var r=t.itemData,n=e.items.filter((function(e){return e.id===r.id}));if(n.length>0){n[n.length-1];var o=e.items.findIndex((function(e){return U(n[n.length-1],e)}));o>=0&&(e.items.splice(o,1),e.itemsCount--)}},pushSpecialMenuToCart:function(e,t){var r=t.specialMenu;e.itemsSpecial.push({id:r.id,name:r.name,menuentries:r.menuentries,quantity:1,price:r.price}),e.itemsCount++},popSpecialMenuFromCart:function(e,t){var r=t.specialMenu,n=e.itemsSpecial.findIndex((function(e){return J(e,r)}));n>=0&&(e.itemsSpecial.splice(n,1),e.itemsCount=Z(e))},mergeSpecialProductInCart:function(e,t){var r=t.itemDataToKeep,n=t.itemDataToDelete,o=e.itemsSpecial.findIndex((function(e){return J(e,r)})),i=e.itemsSpecial.findIndex((function(e){return J(e,n)}));o>=0&&i>=0&&(e.itemsSpecial[o].quantity+=e.itemsSpecial[i].quantity,e.itemsSpecial.splice(i,1),e.itemsCount=Z(e))},updateSpecialItem:function(e,t){var r=t.originalData,n=t.itemData,o=e.itemsSpecial.findIndex((function(e){return J(e,r)}));o>=0&&(e.itemsSpecial[o].menuentries=n.menuentries)},updateItem:function(e,t){var r=t.originalData,n=t.itemData,o=e.items.find((function(e){return U(e,r)}));o&&(o.menuentryvariants=JSON.parse(JSON.stringify(n.menuentryvariants)),o.notes=n.notes)},incrementItemQuantity:function(e,t){var r=t.itemData,n=e.items.find((function(e){return U(e,r)}));void 0!==r.notes&&(n.notes=r.notes),n.quantity++,e.itemsCount++},decrementItemQuantity:function(e,t){var r=t.itemData,n=e.items.find((function(e){return U(e,r)}));n.quantity--,e.itemsCount--},decrementItemSkippingVariantsComboQuantity:function(e,t){var r=t.itemData,n=e.items.filter((function(e){return e.id===r.id}));if(n.length>0){var o=n[n.length-1],i=e.items.findIndex((function(e){return U(n[n.length-1],e)}));o.quantity>1&&(o.quantity--,e.itemsCount--,0==o.quantity&&i>=0&&e.items.splice(i,1))}},incrementSpecialItemQuantity:function(e,t){var r=t.specialMenu,n=e.itemsSpecial.find((function(e){return J(e,r)}));n.quantity++,e.itemsCount++},decrementSpecialItemQuantity:function(e,t){var r=t.specialMenu,n=e.itemsSpecial.find((function(e){return J(e,r)}));n.quantity--,e.itemsCount--},setCartItems:function(e,t){var r=t.items;e.items=r,e.itemsCount=0,r.forEach((function(t){void 0!=t.quantity?e.itemsCount+=t.quantity:e.itemsCount++}))},setCartItemsSpecial:function(e,t){var r=t.itemsSpecial;e.itemsSpecial=r,r.forEach((function(t){t.quantity?e.itemsCount+=t.quantity:e.itemsCount++}))},setCheckoutStatus:function(e,t){e.checkoutStatus=t},setCartTotalPrice:function(e,t){e.cartTotalPrice=t},setCartUser:function(e,t){e.cartUser=t}},X={namespaced:!0,state:W,getters:q,actions:Y,mutations:K},ee={currentSearchKey:null,currentTags:[],currentAllergenTags:[]},te={currentCategoryName:function(e,t,r){return void 0!=r.categories.currentMenuCategory?r.categories.currentMenuCategory.name:null},filteredTags:function(e,t,r){var n=[];void 0!=r.categories.currentMenuCategory&&r.categories.menuCategoriesWithChildren.forEach((function(e){var t=e.id,o=e.parent_id;o==r.categories.currentMenuCategory.id&&n.push(t)}));var o=[],i=[],a=r.items.all.filter((function(e){return n.length>0&&n.indexOf(e.category_id)>-1||0==n.length}));if(a.length>0)for(var s=0;s<a.length;s++)if(a[s].tags.length>0)for(var c=0;c<a[s].tags.length;c++)-1==o.indexOf(a[s].tags[c].id)&&(o.push(a[s].tags[c].id),i.push(a[s].tags[c]));return i},filteredAllergenTags:function(e,t,r){var n=[];void 0!=r.categories.currentMenuCategory&&r.categories.menuCategoriesWithChildren.forEach((function(e){var t=e.id,o=e.parent_id;o==r.categories.currentMenuCategory.id&&n.push(t)}));var o=[],i=[],a=r.items.all.filter((function(e){return n.length>0&&n.indexOf(e.category_id)>-1||0==n.length}));if(a.length>0)for(var s=0;s<a.length;s++)if(a[s].allergentags.length>0)for(var c=0;c<a[s].allergentags.length;c++)-1==o.indexOf(a[s].allergentags[c].id)&&(o.push(a[s].allergentags[c].id),i.push(a[s].allergentags[c]));return i},filteredCategoriesAndProducts:function(e,t,r){var n=[];void 0!=r.categories.currentMenuCategory&&r.categories.menuCategoriesWithChildren.forEach((function(e){var t=e.id,o=e.parent_id;o==r.categories.currentMenuCategory.id&&n.push(t)}));var o={},i=[],a=r.items.all.filter((function(t){var r=0==n.length||n.length>0&&n.indexOf(t.category_id)>-1,o=!0;if(0!=e.currentTags.length)if(0!=t.tags.length){o=!1;var i=[];t.tags.forEach((function(e){var t=e.id;i.push(t)}));for(var a=0;a<e.currentTags.length;a++)if(i.indexOf(e.currentTags[a])>-1){o=!0;break}}else o=!1;var s=!0;if(0!=e.currentAllergenTags.length&&0!=t.allergentags.length){var c=[];t.allergentags.forEach((function(e){var t=e.id;c.push(t)}));for(var l=0;l<e.currentAllergenTags.length;l++)if(c.indexOf(e.currentAllergenTags[l])>-1){s=!1;break}}var u=null==e.currentSearchKey||null!=e.currentSearchKey&&t.name.toString().toLowerCase().indexOf(e.currentSearchKey.toString().toLowerCase())>-1;return r&&o&&s&&u}));return a.length>0&&(a.forEach((function(e){var t,n=e.id,a=e.category_id;if(a&&(void 0!==o[a]?t=o[a]:(t=r.categories.menuCategoriesWithChildren.concat(r.categories.menuDrinkCategoriesWithChildren).find((function(e){return e.id===a})),t&&(o[t.id]=t)),t)){var s=i.find((function(e){return e.id===t.id}));s?s.menuentries.push(n):i.push({id:t.id,name:t.name,name_orig:t.name_orig,order:t.order,menuentries:[n]})}})),i.sort((function(e,t){return e.order>t.order?1:-1}))),i}},re={setCurrentSearchKey:function(e,t){var r=e.commit;e.state;r("setCurrentSearchKey",t)},setCurrentTags:function(e,t){var r=e.commit;e.state;r("setCurrentTags",t)},setCurrentAllergenTags:function(e,t){var r=e.commit;e.state;r("setCurrentAllergenTags",t)}},ne={setCurrentSearchKey:function(e,t){console.info("setCurrentSearchKey",t),e.currentSearchKey=t},setCurrentTags:function(e,t){console.info("setCurrentTags",t),e.currentTags=t},setCurrentAllergenTags:function(e,t){console.info("setCurrentAllergenTags",t),e.currentAllergenTags=t}},oe={namespaced:!0,state:ee,getters:te,actions:re,mutations:ne},ie={specialMenus:[],currentSpecialMenu:[],currentSelectedMenuEntries:[],selectedMenuEntriesOfSpecialMenu:[],addToCartsEnabled:{},addToCartEnabled:!1,selectedMenuentriesForCart:[]},ae=function(e){return null!=e&&void 0!=e.menuvariants&&e.menuvariants.length>0},se=function(e){if(null==e)return!1;if((null!=e.min_selectableoptions?e.min_selectableoptions:1)===e.selectableoptions){var t=e.menuentries.filter((function(e){return!ae(e)})).length;return t==(null!=e.min_selectableoptions?e.min_selectableoptions:1)}return!1},ce={specialMenuTextForGA:function(e,t,r,n){return function(e){var t="",r="|",o=e;if(void 0!==o)try{t=t+(void 0!==o.name_orig?o.name_orig:o.name)+": ";var i=!0,a=!1,s=void 0;try{for(var c,l=o.menuentries[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;t=t+n["items/itemMenuTextForGA"](u)+r+r}}catch(d){a=!0,s=d}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}catch(f){console.log("error constructing special menu text for event "+f.message)}return t}},isSpecialMenuCategoryMandatory:function(e){return function(e){return se(e)}},isSpecialMenuCategoryFullyRequired:function(e){return function(e){return null!=e&&((null!=e.min_selectableoptions?e.min_selectableoptions:1)===e.selectableoptions&&null!=e.menuentries&&e.menuentries.length===e.selectableoptions)}},hasSpecialMenuItemOptions:function(e){return function(e){return ae(e)}},isAddToCartEnabled:function(e,t){return function(r){if(void 0===e.currentSpecialMenu||void 0===e.currentSpecialMenu.specialcategories)return!1;var n=null==e.currentSpecialMenu.specialcategories?0:e.currentSpecialMenu.specialcategories.filter((function(e){return se(e)})).length,o=0,i=[];void 0!==e.selectedMenuEntriesOfSpecialMenu&&void 0!==e.selectedMenuEntriesOfSpecialMenu&&e.selectedMenuEntriesOfSpecialMenu.forEach((function(r){if(0==i.filter((function(e){return e==r.specialmenucategory})).length){var n=(null==e.selectedMenuEntriesOfSpecialMenu?[]:e.selectedMenuEntriesOfSpecialMenu.filter((function(e){return e.specialmenucategory===r.specialmenucategory}))).length,a=e.currentSpecialMenu.specialcategories.find((function(e){return e.id===r.specialmenucategory})),s=!1;if(null!=a)if(t.isSpecialMenuCategoryFullyRequired(a)){var c=a.menuentries.filter((function(e){return!ae(e)})).length;s=n+c==a.selectableoptions}else s=n>=a.min_selectableoptions&&n<=a.selectableoptions;(null==a||s)&&(i.push(r.specialmenucategory),o++)}}));var a=0;e.currentSpecialMenu.specialcategories.filter((function(e){return 0===e.min_selectableoptions})).forEach((function(e){i.indexOf(e.id)<0&&a++}));var s=null!==e.currentSpecialMenu.specialcategories&&a==e.currentSpecialMenu.specialcategories.length;return console.log("manuallySelectedItems "+o+", otherOptionalCategories "+a+", specialMenuCategoriesMandatory "+n+", noneSelected "+s),null!==e.currentSpecialMenu.specialcategories&&e.currentSpecialMenu.specialcategories.length==o+a+n&&!s}},getSpecialMenu:function(e){return function(t){return e.specialMenus.find((function(e){return e.id===t.id}))}}},le={selectMenuEntryForCart:function(e,t){var r=e.commit,n=e.getters,o=e.state,i=(e.rootState,e.rootGetters,t.specialMenu),a=t.menuentryData,s=i.id,c=Object.assign([],o.selectedMenuEntriesOfSpecialMenu),l=c.findIndex((function(e){return e.specialmenucategory===a.specialmenucategory&&e.menuentry.id==a.menuentry.id}));if(l>=0)c.splice(l,1);else{var u=i.specialcategories.filter((function(e){return e.id===a.specialmenucategory}))[0],d=c.filter((function(e){return e.specialmenucategory===a.specialmenucategory}));if(null==u.selectableoptions||parseInt(u.selectableoptions)>=1){if(parseInt(u.selectableoptions)>0&&d.length==parseInt(u.selectableoptions)){var f=c.findIndex((function(e){return e.specialmenucategory===a.specialmenucategory}));c.splice(f,1)}c.push({specialmenucategory:a.specialmenucategory,menuentry:a.menuentry})}}r("setSelectedMenuEntriesOfSpecialMenu",{specialMenuId:s,menuEntries:c}),r("updateAddToCart",{specialMenuId:o.currentSpecialMenu.id,enabled:n.isAddToCartEnabled(o.currentSpecialMenu.id)})},resetSelectedMenuEntriesOfSpecialMenu:function(e){var t=e.commit;t("resetSelectedMenuentries")},resetSelectedMenuentries:function(e,t){var r=e.commit,n=e.getters,o=e.state;e.rootState;r("resetSelectedMenuentries"),r("updateAddToCart",{specialMenuId:o.currentSpecialMenu.id,enabled:n.isAddToCartEnabled(o.currentSpecialMenu.id)})},updateSelectedMenuentries:function(e){var t=e.commit,r=e.getters,n=e.state,o=(e.rootState,r.isAddToCartEnabled(n.currentSpecialMenu.id));t("updateAddToCart",{specialMenuId:n.currentSpecialMenu.id,enabled:o})}},ue={selectMenuEntryForCart:function(e,t){var r=e.selectedMenuentriesForCart.findIndex((function(e){return e.specialmenucategory===t.specialmenucategory}));r>=0&&e.selectedMenuentriesForCart.splice(r,1),e.selectedMenuentriesForCart.push({specialmenucategory:t.specialmenucategory,menuentry:t.menuentry})},resetSelectedMenuentries:function(e){e.selectedMenuEntriesOfSpecialMenu=[],e.currentSelectedMenuEntries=[]},updateAddToCart:function(e,t){var r=t.specialMenuId,n=t.enabled;void 0!==r&&(e.addToCartsEnabled[r]=n,e.addToCartEnabled=n)},setSelectedMenuEntriesOfSpecialMenu:function(e,t){var r=t.specialMenuId,n=t.menuEntries;void 0!==r&&(e.selectedMenuEntriesOfSpecialMenu=n,e.currentSelectedMenuEntries=n)},setCurrentSelectedMenuEntries:function(e,t){e.currentSelectedMenuEntries=t},setSpecialMenus:function(e,t){if(e.specialMenus=t,void 0!==t&&e.currentSpecialMenu){var r=e.specialMenus.find((function(t){return t.id===e.currentSpecialMenu.id}));e.currentSpecialMenu=r}else e.currentSpecialMenu=void 0},setCurrentSpecialMenu:function(e,t){e.currentSpecialMenu=t},updateSpecialAddToCartQty:function(e,t){e.specialAddToCartQty=t}},de={namespaced:!0,state:ie,getters:ce,actions:le,mutations:ue},fe={allitemsoptions:[],currentOptions:void 0,showOptionsPopup:!1,optionsPopupMode:"add"},pe={checkIfItemOptionsExist:function(e){return function(t,r,n){return void 0==r&&(r=0),void 0==n&&(n=0),e.allitemsoptions.filter((function(e){return e.id===t&&e.specialmenuid===r&&e.specialmenucategoryid==n})).length}},getItemOptionsSingle:function(e){return function(t,r,n){void 0==r&&(r=0),void 0==n&&(n=0);var o=e.allitemsoptions.find((function(e){return e.id===t&&e.specialmenuid===r&&e.specialmenucategoryid==n}));return o}},currentItemOptionsSingle:function(e){if(void 0!==e.currentOptions){var t=void 0!==e.currentOptions.item?e.currentOptions.item.id:0,r=void 0!==e.currentOptions.specialmenuid?e.currentOptions.specialmenuid:0,n=void 0!==e.currentOptions.specialmenucategoryid?e.currentOptions.specialmenucategoryid:0,o=e.allitemsoptions.find((function(e){return e.id===t&&e.specialmenuid===r&&e.specialmenucategoryid==n}));return o}},styledPriceModifier:function(e,t,r,n){return function(e){if(null!=e){var t="";return t=e.indexOf("-")>-1?"-"+e.replace("-",""):"+"+e.replace("-",""),t+=n["restaurant/currencySymbol"],t}return""}}},me=function(e){},ve={addItem:function(e,t){var r=e.commit,n=e.rootState;e.state;void 0==t.specialmenuid&&(t.specialmenuid=0),void 0==t.specialmenucategoryid&&(t.specialmenucategoryid=0),r("addItem",t),me(n)},selectItem:function(e,t){var r=e.commit,n=e.rootState;e.state;void 0==t.specialmenuid&&(t.specialmenuid=0),void 0==t.specialmenucategoryid&&(t.specialmenucategoryid=0),r("addItem",t),me(n)},removeItem:function(e,t){var r=e.commit,n=e.rootState;e.state;void 0==t.specialmenuid&&(t.specialmenuid=0),void 0==t.specialmenucategoryid&&(t.specialmenucategoryid=0),r("removeItem",t),me(n)},openOptionsPopup:function(e,t){var r=e.commit,n=(e.state,t.itemdata),o=t.mode;r("setCurrentOptions",n),r("setShowOptionsPopup",!0),r("setOptionsPopupMode",o)},setCurrentOptions:function(e,t){var r=e.commit,n=(e.state,t.itemdata);r("setCurrentOptions",n)},closeOptionsPopup:function(e){var t=e.commit;e.state;t("setCurrentOptions",void 0),t("setShowOptionsPopup",!1)},loadItemOptionsState:function(e){e.state,e.rootState,e.commit}},he={addItem:function(e,t){var r=e.allitemsoptions.findIndex((function(e){return e.id==t.id&&e.specialmenuid==t.specialmenuid&&e.specialmenucategoryid==t.specialmenucategoryid}));r>=0&&e.allitemsoptions.splice(r,1),e.allitemsoptions.push({id:t.id,specialmenuid:t.specialmenuid,specialmenucategoryid:t.specialmenucategoryid,notes:t.notes,menuentryvariants:t.menuentryvariants})},removeItem:function(e,t){var r=e.allitemsoptions.findIndex((function(e){return e.id==t.id&&e.specialmenuid==t.specialmenuid&&e.specialmenucategoryid==t.specialmenucategoryid}));r>=0&&e.allitemsoptions.splice(r,1)},setCurrentOptions:function(e,t){e.currentOptions=t},setShowOptionsPopup:function(e,t){e.showOptionsPopup=t},setOptionsPopupMode:function(e,t){e.optionsPopupMode=t},setItemOptionItems:function(e,t){e.allitemsoptions=t}},ge={namespaced:!0,state:fe,getters:pe,actions:ve,mutations:he},ye=r("9127");function be(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,o)}function Se(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){be(i,n,o,a,s,"next",e)}function s(e){be(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Oe={myOrders:[],currentOrder:void 0,lastOrderClient:void 0,lastOrderServer:void 0,lastOrderDate:void 0,waitingForPayment:!1,orderSent:!1,paymentSuccessful:!1,paymentSent:!1,md5:""},we=function(e){if(e.restaurant&&e.restaurant.hash){var t=JSON.parse(localStorage.getItem(e.restaurant.hash+"orders"));null==t&&(t={}),t.lastOrderClient=e.orders.lastOrderClient,t.lastOrderServer=e.orders.lastOrderServer,t.lastOrderDate=e.orders.lastOrderDate,t.waitingForPayment=e.orders.waitingForPayment,t.orderSent=e.orders.orderSent,t.paymentSent=e.orders.paymentSent,t.paymentSuccessful=e.orders.paymentSuccessful,localStorage.setItem(e.restaurant.hash+"orders",JSON.stringify(t))}},Ce=function(){return isNaN(Number("2"))?2:Number("2")},_e={getOrder:function(e){return function(t){return e.myOrders.find((function(e){return e.id===t}))}},isCurrentSessionValid:function(e){return function(t){var r=-1;return null!=e.lastOrderDate&&(r=(t-e.lastOrderDate.getTime())/1e3),r>0&&r<3600*Ce()}},sessionTime:function(e){return function(t){return null!=e.lastOrderDate?(t-e.lastOrderDate.getTime())/1e3:-1}},ordersCount:function(e){return e.myOrders.length},currentSessionId:function(e){if(null!=e.lastOrderServer&&null!=e.lastOrderServer.payment_details){var t=JSON.parse(e.lastOrderServer.payment_details);if(null!=t.session_id)return t.session_id}},currentClientSecret:function(e){if(null!=e.lastOrderServer&&null!=e.lastOrderServer.payment_details){var t=JSON.parse(e.lastOrderServer.payment_details);if(null!=t.client_secret)return t.client_secret}},currentOrderMethod:function(e){return null!=e.lastOrderClient&&null!=e.lastOrderClient.order_method?e.lastOrderClient.order_method:"direct"},orderCostChanged:function(e){return function(t){return null==e.lastOrderClient||null==e.lastOrderClient.total_cost||e.lastOrderClient.total_cost!=t}}},ke={setMyOrders:function(e,t){e.state,e.rootState;var r=e.commit;r("setMyOrders",t)},hideMyOrders:function(e){e.state,e.rootState;var t=e.commit;t("setMyOrders",[])},storeOrder:function(e,t){e.state,e.rootState,e.commit;var r=e.dispatch,o=t.hash,i=t.order,a=t.user;return ze.state.app.networkOnLine?new Promise((function(e,t){n["default"].axios.post("https://dishcovery.menu/api/v3/restaurants/"+o+"/order",{order:i,user:a}).then((function(n){if(void 0!=n.data&&void 0!=n.data.code)return"ok"==n.data.code?(r("getMyOrders",{hash:o,deviceId:a.deviceID}),r("app/setOrderNotificationActive",!0,{root:!0}),r("setLastOrder",{orderClient:i,orderServer:n.data.order}),e(n.data.message)):t(n.data.message);console.log("unrecognized response "+JSON.stringify(n.data)),t("Errore server")})).catch((function(e){if(void 0!=e.data&&void 0!=e.data.message)return t(e.data.message);console.log("cannot post order "+JSON.stringify(e)),t(e)}))})):new Promise((function(e,t){return t("You are not online!")}))},storeOrUpdateOrder:function(e,t){var r=e.state,o=(e.rootState,e.commit,e.dispatch),i=t.hash,a=t.order,s=t.user;return ze.state.app.networkOnLine?new Promise((function(e,t){null!=r.lastOrderServer?n["default"].axios.put("https://dishcovery.menu/api/v3/restaurants/"+i+"/order/"+r.lastOrderServer.id,{order:a,user:s}).then((function(r){if(void 0!=r.data&&void 0!=r.data.code)return"ok"==r.data.code?(o("getMyOrders",{hash:i,deviceId:s.deviceID}),o("app/setOrderNotificationActive",!0,{root:!0}),o("setLastOrder",{orderClient:a,orderServer:r.data.order}),e(r.data.message)):t(r.data.message);console.log("unrecognized response "+JSON.stringify(r.data)),t("Errore server")})).catch((function(e){if(void 0!=e.data&&void 0!=e.message)return t(e.data.message);console.log("cannot post order "+JSON.stringify(e)),t(e)})):n["default"].axios.post("https://dishcovery.menu/api/v3/restaurants/"+i+"/order",{order:a,user:s}).then((function(r){if(void 0!=r.data&&void 0!=r.data.code)return"ok"==r.data.code?(o("getMyOrders",{hash:i,deviceId:s.deviceID}),o("app/setOrderNotificationActive",!0,{root:!0}),o("setLastOrder",{orderClient:a,orderServer:r.data.order}),e(r.data.message)):t(r.data.message);console.log("unrecognized response "+JSON.stringify(r.data)),t("Errore server")})).catch((function(e){if(void 0!=e.data&&void 0!=e.data.message)return t(e.data.message);console.log("cannot post order "+JSON.stringify(e)),t(e)}))})):new Promise((function(e,t){return t("You are not online!")}))},prepareLastOrderForStripePayment:function(){var e=Se(l.a.mark((function e(t,r){var o,i,a,s,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.state,t.rootState,t.commit,i=t.dispatch,a=r.hash,s=r.order,c=r.deviceID,ze.state.app.networkOnLine){e.next=6;break}return e.abrupt("return",new Promise((function(e,t){return t("You are not online!")})));case 6:return e.abrupt("return",new Promise((function(e,t){null!=o.lastOrderServer?n["default"].axios.put("https://dishcovery.menu/api/v3/restaurants/"+a+"/order/"+o.lastOrderServer.id+"/prepare-for-payment",{deviceID:c}).then((function(t){i("setLastOrder",{orderClient:s,orderServer:t.data.order}),e()})).catch((function(e){t("Errore nella preparazione dell'ordine")})):t("Nessun ordine inviato")})));case 7:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),updateOrderPaymentResult:function(){var e=Se(l.a.mark((function e(t,r){var o,i,a,s,c;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.state,t.rootState,t.commit,i=t.dispatch,a=r.hash,s=r.result,c=r.deviceID,ze.state.app.networkOnLine){e.next=6;break}return e.abrupt("return",new Promise((function(e,t){return t("You are not online!")})));case 6:return e.abrupt("return",new Promise((function(e,t){null!=o.lastOrderServer?n["default"].axios.put("https://dishcovery.menu/api/v5/restaurants/"+a+"/order/"+o.lastOrderServer.id+"/payment-result",{deviceID:c,result:s}).then((function(t){null!=t.data&&null!=t.data.order&&t.data.order.payment_result&&i("setPaymentSuccessful",!0),e("ok")})).catch((function(e){t("Errore nella preparazione dell'ordine")})):t("Nessun ordine inviato")})));case 7:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),getMyOrders:function(e){var t=e.commit,r=e.state,o=e.rootState,i=e.dispatch;return ze.state.app.networkOnLine?new Promise((function(e,a){n["default"].axios.get("https://dishcovery.menu/api/v3/restaurants/"+o.restaurant.hash+"/orders/"+o.app.deviceID).then((function(n){if(void 0!=n.data&&void 0!=n.data.code){if("ok"==n.data.code){var o=ye["Md5"].hashStr(JSON.stringify(n.data.orders));return r.md5!==o&&(i("app/setOrderNotificationActive",!0,{root:!0}),t("setOrdersMd5",o)),t("setMyOrders",n.data.orders),e(n.data.orders)}return a(n.data.message)}a("Errore server")})).catch((function(e){if(void 0!=e.data&&void 0!=e.data.message)return a(e.data.message);console.log("cannot get my orders "+JSON.stringify(e)),a(e)}))})):new Promise((function(e,t){return t("You are not online!")}))},setLastOrder:function(e,t){var r=e.commit,n=e.rootState,o=t.orderClient,i=t.orderServer;r("setLastOrder",{orderClient:o,orderServer:i}),we(n)},refreshLastOrder:function(e,t){var r=e.commit,n=e.getters,o=(e.state,e.rootState);n.sessionTime((new Date).getTime())>3600*Ce()&&(console.log("clearing order session"),r("clearLastOrder",void 0),we(o))},clearLastOrder:function(e){var t=e.commit,r=e.rootState,n=e.rootGetters,o=2!=n["restaurant/restaurantType"];console.log("Clearing last order date"),t("clearLastOrder",o),we(r)},setOrderSent:function(e,t){var r=e.dispatch,n=e.commit,o=e.state,i=e.rootState;console.log("setting order sent "+t),n("setOrderSent",t),o.paymentSuccessful&&r("clearCurrentOrderSession"),we(i)},setPaymentSent:function(e,t){e.dispatch;var r=e.commit,n=(e.state,e.rootState);r("setPaymentSent",t),we(n)},setPaymentSuccessful:function(e,t){var r=e.dispatch,n=e.commit,o=e.state,i=e.rootState;console.log("setting payment successful "+t),n("setPaymentSuccessful",t),n("setPaymentSent",t),o.orderSent&&r("clearCurrentOrderSession"),we(i)},setWaitingForPayment:function(e,t){var r=e.commit,n=e.rootState;r("setWaitingForPayment",t),we(n)},loadOrdersState:function(e,t){e.state,e.rootState;var r=e.commit;if(localStorage.getItem(t+"orders")){var n=JSON.parse(localStorage.getItem(t+"orders"));r("setWaitingForPayment",null!=n.waitingForPayment&&n.waitingForPayment),r("setOrderSent",null!=n.orderSent&&n.orderSent),r("setPaymentSent",null!=n.paymentSent&&n.paymentSent),r("setPaymentSuccessful",null!=n.paymentSuccessful&&n.paymentSuccessful),null!=n.lastOrderDate&&(console.log("found last order! "+JSON.stringify({orderClient:n.lastOrderClient,orderServer:n.lastOrderServer})),r("setLastOrder",{orderClient:n.lastOrderClient,orderServer:n.lastOrderServer}),r("setLastOrderDate",new Date(n.lastOrderDate)))}},clearCurrentOrderSession:function(e){var t=e.dispatch;t("clearLastOrder"),t("cart/emptyCart",null,{root:!0}),t("cart/resetCartUser",null,{root:!0})}},Me={setMyOrders:function(e,t){if(e.myOrders=t,e.currentOrder){var r=e.myOrders.find((function(t){return t.id===e.currentOrder.id}));e.currentOrder=r}},updateOrder:function(e,t){if(void 0!==t){var r=e.myOrders.findIndex((function(e){return e.id==t.id}));r>=0&&(void 0!=e.currentOrder&&e.currentOrder.id==t.id&&(e.currentOrder=t),e.myOrders.splice(r,1,t))}},setCurrentOrder:function(e,t){e.currentOrder=t},setLastOrder:function(e,t){var r=t.orderClient,n=t.orderServer;e.lastOrderClient=r,e.lastOrderServer=n,e.lastOrderDate=new Date},setLastOrderDate:function(e,t){e.lastOrderDate=t},setWaitingForPayment:function(e,t){e.waitingForPayment=t},setOrderSent:function(e,t){e.orderSent=t},setPaymentSent:function(e,t){e.paymentSent=t},setPaymentSuccessful:function(e,t){e.paymentSuccessful=t},clearLastOrder:function(e,t){console.log("clearing last order"),e.lastOrderClient=void 0,e.lastOrderServer=void 0,t&&(e.lastOrderDate=void 0),e.waitingForPayment=!1,e.orderSent=!1,e.paymentSent=!1,e.paymentSuccessful=!1},setOrdersMd5:function(e,t){e.md5=t}},Ae={namespaced:!0,state:Oe,getters:_e,actions:ke,mutations:Me},Ie=r("5638");function xe(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,o)}function Pe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xe(i,n,o,a,s,"next",e)}function s(e){xe(i,n,o,a,s,"throw",e)}a(void 0)}))}}var Te={channelName:"",isConnected:!1},Ee={channel:function(e){if(window.Echo)return window.Echo.channel(e.channelName)}},De={connect:function(){var e=Pe(l.a.mark((function e(t){var r,n,o,i,a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.state,r=t.rootState,n=t.commit,o=t.dispatch,window.Echo||(console.log("initting echo key wss"),window.Echo=new Ie["a"]({key:"dishcovery-admin",broadcaster:"pusher",cluster:"eu",wsHost:window.location.hostname,wsPort:"9001",wssPort:"9001",enableStats:!1,forceTLS:!0,disabledTransports:["xhr_streaming","xhr_polling","sockjs"],enabledTransports:["wss"]}),window.Echo.connector.pusher.connection.bind("connected",(function(e){return n("connected",e)})),window.Echo.connector.pusher.connection.bind("disconnected",(function(){return n("disconnected")})),window.Echo.connector.pusher.connection.bind("state_change",(function(e){console.log("state changed "+e.current)}))),window.Echo&&void 0!=r.restaurant.rid&&void 0!=r.app.deviceID&&(i="restaurant."+r.restaurant.rid+"."+r.app.deviceID,a=window.Echo.channel(i),a.listen("OrderStateChange",(function(e){console.log("received order change "+e.orderid),o("orders/updateOrder",e.orderid,{root:!0}),o("app/showSnackbarInfoMessage","Lo stato dell'ordine #"+e.restaurantorderid+" è stato aggiornato!",{root:!0}),o("app/setOrderNotificationActive",!0,{root:!0})})),n("setChannelName",i));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),disconnect:function(e){e.state,e.rootState,e.commit;window.Echo&&window.Echo.connector.pusher.disconnect()}},Ne={connected:function(e,t){console.log("connected "+JSON.stringify(t)),e.isConnected=!0},disconnected:function(e){console.log("disconnected "+JSON.stringify(e.isConnected)),e.isConnected=!1},setChannelName:function(e,t){e.channelName=t}},je={namespaced:!0,state:Te,getters:Ee,actions:De,mutations:Ne},Fe={formFields:[],regRequired:null,regDone:!1},Re={getFormFields:function(e){return e.formFields},isRegRequired:function(e){return e.regRequired},isRegDone:function(e){return e.regDone}},Le={storeRegistration:function(e,t){e.state,e.rootState,e.commit,e.dispatch;var r=t.hash,o=t.contact;return ze.state.app.networkOnLine?new Promise((function(e,t){n["default"].axios.post("https://dishcovery.menu/api/v5/restaurants/"+r+"/contact",{contact:o}).then((function(r){if(void 0!=r.data&&void 0!=r.data.code)return"ok"==r.data.code?e(r.data.message):t(r.data.message);console.log("unrecognized response "+JSON.stringify(r.data)),t("Errore server")})).catch((function(e){return void 0!=e.data&&void 0!=e.data.message?t(e.data.message):(console.log("cannot post order "+JSON.stringify(e)),t(e))}))})):new Promise((function(e,t){return t("You are not online!")}))}},Ve={setFormFields:function(e,t){if(e.formFields=t,void 0!==t&&null!==t){var r=t.find((function(e){return"required"===e.name}));r?Ve.setRegRequired(e,r.pivot.enabled):Ve.setRegRequired(e,!1)}else Ve.setRegRequired(e,!1)},setRegRequired:function(e,t){e.regRequired=t},setRegDone:function(e,t){e.regDone=t}},We={namespaced:!0,state:Fe,getters:Re,actions:Le,mutations:Ve};n["default"].use(o["a"]);var ze=t["a"]=new o["a"].Store({strict:!1,modules:{app:h,restaurant:x,categories:N,items:V,filters:oe,specialmenus:de,itemsoptions:ge,cart:X,orders:Ae,websocket:je,registration:We}})},"081a":function(e,t,r){},"0825":function(e){e.exports={"Installa {0}!":"Installa {0}!","Installa questa applicazione sullo smartphone per un accesso più veloce!":"Installa questa applicazione sullo smartphone per un accesso più veloce!","Ho capito":"Ho capito","Tap {0} poi 'Aggiungi a schermata Home'":"Tap {0} poi 'Aggiungi a schermata Home'","Nuovi contenuti disponibili, aggiorna la app!":"Nuovi contenuti disponibili, aggiorna la app!",Annulla:"Annulla",Aggiorna:"Aggiorna","Leggi di più...":"Leggi di più...",Ingredienti:"Ingredienti",Dettagli:"Dettagli","Caricamento nuovi contenuti...":"Caricamento nuovi contenuti...","Update disponibile!":"Update disponibile!",REFRESH:"REFRESH","Abbinamento consigliato":"Abbinamento consigliato","Abbinamenti consigliati":"Abbinamenti consigliati",Segnalazione:"Segnalazione","Hai trovato una traduzione non corretta? Scrivici il tuo suggerimento di seguito!":"Hai trovato una traduzione non corretta? Scrivici il tuo suggerimento di seguito!","Invia segnalazione":"Invia segnalazione","Descrivere più nel dettaglio l'errore di traduzione.":"Descrivere più nel dettaglio l'errore di traduzione.","Segnalazione inviata con successo. Grazie per il tuo contributo!":"Segnalazione inviata con successo. Grazie per il tuo contributo!","Errore nell'invio della segnalazione. Riprovare più tardi.":"Errore nell'invio della segnalazione. Riprovare più tardi.","Il tuo ordine":"Il tuo ordine","Come ordinare?":"Come ordinare?","Inserisci i piatti in questa lista di ordine. I piatti sono mostrati nella tua lingua e in quella del ristorante. Quando hai completato l'ordine, vai alla cassa o chiama il cameriere per mostrargli l'ordine dal tuo smartphone.":"Inserisci i piatti in questa lista di ordine. I piatti sono mostrati nella tua lingua e in quella del ristorante. Quando hai completato l'ordine, vai alla cassa o chiama il cameriere per mostrargli l'ordine dal tuo smartphone.","Svuotare l'ordine?":"Svuotare l'ordine?","Si vuole davvero svuotare l'ordine?":"Si vuole davvero svuotare l'ordine?",Conferma:"Conferma",Allergeni:"Allergeni",Ristorante:"Attività",Valuta:"Valuta","Scrivi una recensione":"Scrivi una recensione","Segnala traduzione errata":"Segnala traduzione errata","Condividi la tua esperienza":"Condividi la tua esperienza",Menu:"Menu",Informazioni:"Informazioni","Alimento surgelato o congelato":"Alimento surgelato o congelato",Cerca:"Cerca",Filtra:"Filtra",Filtri:"Filtri","Filtra ora":"Filtra ora",Azzera:"Azzera","Lunedì":"Lunedì","Martedì":"Martedì","Mercoledì":"Mercoledì","Giovedì":"Giovedì","Venerdì":"Venerdì",Sabato:"Sabato",Domenica:"Domenica",Credits:"Credits",Coperto:"Coperto",Ordine:"Ordine","Menù digitali multilingua e multimediali":"Menù digitali multilingua e multimediali","Sviluppo creativo e strategie digitali":"Sviluppo creativo e strategie digitali","Menu speciali":"Pacchetti speciali","Menu alla carta":"Menù alla carta",Scrivi:"Scrivi","Scegli {0} opzioni":"Scegli {0} opzioni","Scegli al massimo {0} opzioni":"Scegli al massimo {0} opzioni","Scegli da {0} a {1} opzioni":"Scegli da {0} a {1} opzioni","Il campo {0} non contiene un valore valido.":"Il campo {0} non contiene un valore valido.","Campo {0} richiesto.":"Campo {0} richiesto.","Your card number is invalid.":"Il numero della carta non è valido.","Your card's expiration year is in the past.":"La data di scadenza della carta è nel passato."}},"186b":function(e,t,r){"use strict";var n=r("00e0"),o=r.n(n);o.a},"324a":function(e,t,r){"use strict";var n=r("081a"),o=r.n(n);o.a},"37ca":function(e,t,r){"use strict";var n=r("d77e"),o=r.n(n);o.a},"49f8":function(e,t,r){var n={"./it.json":"0825"};function o(e){var t=i(e);return r(t)}function i(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id="49f8"},"58e9":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-layout",{attrs:{"justify-center":""}},[e.showOptionsPopup?r("v-bottom-sheet",{attrs:{"content-class":"item-options-popup border-top",absolute:"",persistent:"",scrollable:"","max-width":"100%"},model:{value:e.showOptionsPopup,callback:function(t){e.showOptionsPopup=t},expression:"showOptionsPopup"}},[r("v-card",{staticClass:"border-top",attrs:{flat:"",tile:""}},[r("v-card-title",{staticClass:"headline d-flex align-start justify-space-between"},[r("span",{staticClass:"popup-title"},[e._v(e._s(e.$t("Scegli le opzioni")))]),r("v-btn",{staticClass:"elevation-0 btn-close",attrs:{color:"black",fab:"",small:"",dark:""},on:{click:function(t){return e.closeOptionsPopup()}}},[r("v-icon",[e._v("mdi-window-close")])],1)],1),r("v-card-text",{staticClass:"pt-2 d-flex flex-column align-stretch justify-start"},[e._l(e.currentOptions.item.menuvariants,(function(t,n){return r("div",{key:n},[t.items.length>0?r("v-sheet",{staticClass:"product-variant mb-8 pa-4 border-a-20",attrs:{transition:"slide-x-transition",elevation:"4"}},[r("span",{staticClass:"help-title font-weight-bold text-start pt-2 pb-4"},[e._v(e._s(t.name))]),r("span",{staticClass:"d-block help-content text-start pb-4"},[e._v(e._s(t.description))]),r("v-divider"),r("div",{staticClass:"my-4 d-flex justify-space-between align-center"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.minItems(t)===e.maxItems(t),expression:"minItems(menuvariant) === maxItems(menuvariant)"}],staticClass:"body-2"},[e._v("\n                                    "+e._s(1===e.minItems(t)?e.$t("Scegli un'opzione"):e.$t("Scegli {0} opzioni",[e.minItems(t)])+":")+"\n                                ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.minItems(t)!==e.maxItems(t),expression:"minItems(menuvariant) !== maxItems(menuvariant)"}],staticClass:"body-2"},[e._v("\n                                    "+e._s((0===e.minItems(t)?1===e.maxItems(t)?e.$t("Scegli al massimo una opzione"):e.$t("Scegli al massimo {0} opzioni",[t.max_items]):e.$t("Scegli da {0} a {1} opzioni",[t.min_items,t.max_items]))+":")+"\n                                ")]),r("span",{directives:[{name:"show",rawName:"v-show",value:1==t.required,expression:"menuvariant.required == true"}],staticClass:"font-weight-bold body-2"},[e._v("\n                                    * "+e._s(e.$t("obbligatorio"))+"\n                                ")])]),r("div",{staticClass:"options"},[r("div",{staticClass:"option"},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.variantIsRadio(t),expression:"variantIsRadio(menuvariant)"}],staticClass:"option--radiogroup"},[r("v-radio-group",{staticClass:"ma-2 p-0",attrs:{column:"","hide-details":""},model:{value:e.userRadios[t.id],callback:function(r){e.$set(e.userRadios,t.id,r)},expression:"userRadios[menuvariant.id]"}},e._l(t.items,(function(t,n){return r("v-radio",{key:n,attrs:{value:t.id}},[r("template",{slot:"label"},[e._v("\n                                                    "+e._s(t.name)+"\n                                                    "),0==parseFloat(t.pricemodifier)||isNaN(t.pricemodifier)?e._e():r("span",[e._v("\n                                                         \n                                                        "),r("span",{staticClass:"price font-weight-medium ml-1"},[e._v("\n                                                            "+e._s(e._f("pricer")(e.styledPriceModifier(t.pricemodifier)))+"\n                                                        ")])])])],2)})),1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.variantIsCheckbox(t),expression:"variantIsCheckbox(menuvariant)"}],staticClass:"option--checkboxes"},e._l(t.items,(function(t,n){return r("div",{key:n,staticClass:"my-2 pl-2 d-flex justify-start align-center"},[r("v-checkbox",{staticClass:"mt-0 pt-0",attrs:{value:t.id,label:t.name,"hide-details":""},nativeOn:{click:function(r){return e.clickedCheckbox(t)}},model:{value:e.userValues,callback:function(t){e.userValues=t},expression:"userValues"}}),0==parseFloat(t.pricemodifier)||isNaN(t.pricemodifier)?e._e():r("span",[e._v("\n                                                 \n                                                "),r("span",{staticClass:"price font-weight-medium ml-1"},[e._v("\n                                                    "+e._s(e._f("pricer")(e.styledPriceModifier(t.pricemodifier)))+"\n                                                ")])])],1)})),0)])])],1):r("div",{staticClass:"mt-3"})],1)})),r("div",{staticClass:"d-flex align-start justify-start"},[r("v-textarea",{staticClass:"flex-grow-1",attrs:{outlined:"",rows:"3","hide-details":"",placeholder:e.$t("Segnare in questo campo eventuali variazioni"),label:e.$t("Note")},model:{value:e.userNotes,callback:function(t){e.userNotes=t},expression:"userNotes"}}),r("v-btn",{staticClass:"ml-2 elevation-0 btn-reset",attrs:{fab:"",small:"",dark:""},on:{click:function(t){return e.resetNotes()}}},[r("v-icon",[e._v("mdi-window-close")])],1)],1)],2),r("v-card-actions",{staticClass:"justify-center"},[r("v-btn",{staticClass:"px-8",attrs:{elevation:"0",dark:"",medium:"",color:"black",disabled:!e.canConfirm},on:{click:function(t){return e.confirmItemOptions()}}},[e._v("\n                        "+e._s(e.getButtonText())+"\n                    ")])],1)],1)],1):e._e()],1)},o=[],i=r("2f62"),a=r("afbd");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={data:function(){return{userRadios:[],userValues:[],userValuesOrdered:[],userNotes:"",canConfirm:!0,originalOptions:{}}},computed:c({},Object(i["e"])("app",{appCurrentLanguage:function(e){return e.currentLanguage}}),{},Object(i["c"])("items",["getItem","itemMenuTextForGA"]),{},Object(i["e"])("itemsoptions",["showOptionsPopup","currentOptions","optionsPopupMode"]),{},Object(i["c"])("itemsoptions",["checkIfItemOptionsExist","styledPriceModifier","currentItemOptionsSingle"]),{},Object(i["c"])("cart",["isItemInCart","isItemSkippingVariantsComboInCart","areMenuEntriesEqual","getItemFromCart"]),{},Object(i["e"])("specialmenus",["currentSpecialMenu"]),{},Object(i["e"])("cart",["currentCartSpecialItem"])),methods:c({},Object(i["b"])("cart",["addProductToCart","updateProductInCart","updateSpecialProductInCart","mergeProductInCart"]),{},Object(i["b"])("specialmenus",["selectMenuEntryForCart"]),{},Object(i["b"])("itemsoptions",["addItem","closeOptionsPopup"]),{minItems:function(e){return void 0!==e&&void 0!=e.min_items?e.min_items:0},maxItems:function(e){return void 0!==e&&void 0!=e.max_items?e.max_items:1},variantIsRadio:function(e){return this.minItems(e)===this.maxItems(e)&&1===this.minItems(e)},variantIsCheckbox:function(e){return this.minItems(e)!==this.maxItems(e)||this.minItems(e)>1},resetNotes:function(){this.userNotes=""},mounted:function(){},getCurrentItemOptions:function(){var e=this,t={id:this.currentOptions.item.id,specialmenuid:void 0!=this.currentOptions.specialmenuid?this.currentOptions.specialmenuid:0,specialmenucategoryid:void 0!=this.currentOptions.specialmenucategoryid?this.currentOptions.specialmenucategoryid:0,notes:this.userNotes},r=[];return this.currentOptions.item.menuvariants.forEach((function(t,n){var o=[];if(e.variantIsCheckbox(t))t.items.forEach((function(t,r){e.userValues.indexOf(t.id)>-1&&o.push({id:t.id,name:t.name,name_orig:t.name_orig,pricemodifier:t.pricemodifier})}));else if(void 0!==e.userRadios[t.id]){var i=t.items.filter((function(r){return r.id===e.userRadios[t.id]}))[0];void 0!==i&&void 0!==i.id&&o.push({id:i.id,name:i.name,name_orig:i.name_orig,pricemodifier:i.pricemodifier})}o.length>0&&r.push({id:t.id,name:t.name,name_orig:t.name_orig,optionsselected:o})})),t["menuentryvariants"]=r,t},confirmItemOptions:function(){var e=this.getCurrentItemOptions();if(this.addItem(e),0===e.specialmenuid)if("edit"!==this.optionsPopupMode){console.log(e),this.addProductToCart(e);var t=this.getItem(e.id);if(t){Object(a["a"])(this.$ga,"orderAdd",void 0!==t.name_orig?t.name_orig:t.name);var r="orderAdd"+(t.is_drink?"Beverage":"Food");if(Object(a["a"])(this.$ga,r,void 0!==t.name_orig?t.name_orig:t.name),void 0!==e.menuentryvariants&&e.menuentryvariants.length>0){var n=this.itemMenuTextForGA(e);null!=n&&n.length>0&&Object(a["a"])(this.$ga,r+"Detail",n)}}}else this.updateProductInCart({originalData:this.originalOptions,itemData:e});else if("edit"!==this.optionsPopupMode)this.selectMenuEntryForCart({specialMenu:this.currentSpecialMenu,menuentryData:{menuentry:e,specialmenucategory:e.specialmenucategoryid}});else{var o=JSON.parse(JSON.stringify(this.currentCartSpecialItem)),i=o.menuentries.findIndex((function(t){return t.id===e.id&&t.specialmenuid===e.specialmenuid&&t.specialmenucategoryid===e.specialmenucategoryid}));i>=0&&(o.menuentries[i]=e,this.updateSpecialProductInCart({specialMenuOriginal:this.currentCartSpecialItem,specialMenuTarget:o}))}this.closeOptionsPopup()},getButtonText:function(){this.getCurrentItemOptions();return void 0==this.currentOptions.specialmenuid?"edit"!==this.optionsPopupMode?this.$t("AGGIUNGI"):this.$t("MODIFICA"):"edit"!==this.optionsPopupMode?this.$t("SCEGLI"):this.$t("MODIFICA")},synchUserValuesWithOrdered:function(){this.userValues=JSON.parse(JSON.stringify(this.userValuesOrdered))},clickedCheckbox:function(e){void 0!==e&&(this.userValuesOrdered.indexOf(e.id)>=0?this.userValuesOrdered.splice(this.userValuesOrdered.indexOf(e.id),1):this.userValuesOrdered.push(e.id),this.synchUserValuesWithOrdered())},updateCanConfirm:function(){var e=this,t=!0;this.canConfirm=!1;var r=!1;this.currentOptions.item.menuvariants.forEach((function(n,o){var i=0;if(e.variantIsCheckbox(n)){var a=void 0;n.items.forEach((function(t,o){e.userValuesOrdered.indexOf(t.id)>-1&&(a=void 0===a||a>e.userValuesOrdered.indexOf(t.id)?e.userValuesOrdered.indexOf(t.id):a,i++,i>e.maxItems(n)&&(e.userValuesOrdered.splice(a,1),r=!0))}))}else void 0!=e.userRadios[n.id]&&(i=1);t=t&&(1!=n.required||1==n.required&&i>=e.minItems(n)&&i<=e.maxItems(n))})),r&&this.synchUserValuesWithOrdered(),!0===t&&(this.canConfirm=t)}}),created:function(){},watch:{userValues:function(){this.updateCanConfirm()},userRadios:function(){this.updateCanConfirm()},showOptionsPopup:function(){var e=this;if(this.showOptionsPopup){if(this.userRadios=[],this.userValues=[],this.userValuesOrdered=[],this.userNotes="","edit"===this.optionsPopupMode&&this.currentOptions){var t=this.currentItemOptionsSingle;this.originalOptions=void 0!==t?JSON.parse(JSON.stringify(t)):{},void 0!==t&&void 0!==t.menuentryvariants&&(this.currentOptions.item.menuvariants.forEach((function(r,n){t.menuentryvariants.forEach((function(t,n){void 0!==t.optionsselected&&t.optionsselected.forEach((function(t,n){void 0!==t.id&&(e.variantIsCheckbox(r)?e.userValuesOrdered.push(t.id):e.userRadios[r.id]=t.id)}))}))})),void 0!==t.notes&&(this.userNotes=t.notes))}this.userValuesOrdered.length>0&&this.synchUserValuesWithOrdered(),this.updateCanConfirm()}}}},d=u,f=(r("cf11"),r("2877")),p=r("6544"),m=r.n(p),v=r("288c"),h=r("8336"),g=r("b0af"),y=r("99d9"),b=r("ac7c"),S=r("ce7e"),O=r("132d"),w=r("a722"),C=r("67b6"),_=r("43a6"),k=r("8dd9"),M=r("a844"),A=Object(f["a"])(d,n,o,!1,null,null,null);t["a"]=A.exports;m()(A,{VBottomSheet:v["a"],VBtn:h["a"],VCard:g["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCheckbox:b["a"],VDivider:S["a"],VIcon:O["a"],VLayout:w["a"],VRadio:C["a"],VRadioGroup:_["a"],VSheet:k["a"],VTextarea:M["a"]})},"5c0b":function(e,t,r){"use strict";var n=r("6879"),o=r.n(n);o.a},"5d75":function(e,t,r){"use strict";var n=r("b3da"),o=r.n(n);o.a},6879:function(e,t,r){},"68d6":function(e,t,r){"use strict";t["a"]=function(e,t){var r={};return{created:function(){var n=this,o=!0,i=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;r[l]=this[l]}}catch(d){i=!0,a=d}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}var u=this.$router.beforeEach((function(o,i,a){if("disable"!==t){var s=!0,c=!1,l=void 0;try{for(var u,f=e[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var p=u.value;if(!0===n[p]&&n[p]!==r[p]){switch(t){case"emit-event":n.$emit("close");break;case"change-property":n[p]=r[p];break}return void a(!1)}}}catch(d){c=!0,l=d}finally{try{s||null==f.return||f.return()}finally{if(c)throw l}}a()}else a()}));this.$once("hook:destroyed",(function(){u()}))}}}},"6deb":function(e,t,r){},7490:function(e,t,r){"use strict";r.r(t);var n=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var r=i._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(r){return o(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;n<o;n++){var a=t.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(t){if(null===t||void 0===t)return i.decompress(t);for(var r=new Array(t.length/2),n=0,o=r.length;n<o;n++)r[n]=256*t[2*n]+t[2*n+1];var a=[];return r.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(r,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,o,i,a={},s={},c="",l="",u="",d=2,f=3,p=2,m=[],v=0,h=0;for(i=0;i<e.length;i+=1)if(c=e.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=f++,s[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(a,l))u=l;else{if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(n=0;n<p;n++)v<<=1,h==t-1?(h=0,m.push(r(v)),v=0):h++;for(o=u.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1}else{for(o=1,n=0;n<p;n++)v=v<<1|o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o=0;for(o=u.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1}d--,0==d&&(d=Math.pow(2,p),p++),delete s[u]}else for(o=a[u],n=0;n<p;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1;d--,0==d&&(d=Math.pow(2,p),p++),a[l]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(s,u)){if(u.charCodeAt(0)<256){for(n=0;n<p;n++)v<<=1,h==t-1?(h=0,m.push(r(v)),v=0):h++;for(o=u.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1}else{for(o=1,n=0;n<p;n++)v=v<<1|o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o=0;for(o=u.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1}d--,0==d&&(d=Math.pow(2,p),p++),delete s[u]}else for(o=a[u],n=0;n<p;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1;d--,0==d&&(d=Math.pow(2,p),p++)}for(o=2,n=0;n<p;n++)v=v<<1|1&o,h==t-1?(h=0,m.push(r(v)),v=0):h++,o>>=1;while(1){if(v<<=1,h==t-1){m.push(r(v));break}h++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var o,i,a,s,c,l,u,d=[],f=4,p=4,m=3,v="",h=[],g={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)d[o]=o;a=0,c=Math.pow(2,2),l=1;while(l!=c)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*l,l<<=1;switch(a){case 0:a=0,c=Math.pow(2,8),l=1;while(l!=c)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*l,l<<=1;u=e(a);break;case 1:a=0,c=Math.pow(2,16),l=1;while(l!=c)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*l,l<<=1;u=e(a);break;case 2:return""}d[3]=u,i=u,h.push(u);while(1){if(g.index>t)return"";a=0,c=Math.pow(2,m),l=1;while(l!=c)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*l,l<<=1;switch(u=a){case 0:a=0,c=Math.pow(2,8),l=1;while(l!=c)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*l,l<<=1;d[p++]=e(a),u=p-1,f--;break;case 1:a=0,c=Math.pow(2,16),l=1;while(l!=c)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*l,l<<=1;d[p++]=e(a),u=p-1,f--;break;case 2:return h.join("")}if(0==f&&(f=Math.pow(2,m),m++),d[u])v=d[u];else{if(u!==p)return null;v=i+i.charAt(0)}h.push(v),d[p++]=i+v.charAt(0),f--,i=v,0==f&&(f=Math.pow(2,m),m++)}}};return i}();t["default"]=n},"7ca1":function(e,t,r){},"88c3":function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var n=r("2b0e"),o=r("a925"),i=r("bc3a"),a=r.n(i),s=r("9ae0");n["default"].use(o["a"]);var c=["it"];function l(){var e=r("49f8"),t={};return e.keys().forEach((function(r){var n=r.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var o=n[1];t[o]=e(r)}})),t}var u=new o["a"]({locale:"it",fallbackLocale:"it",messages:l(),silentTranslationWarn:!0});function d(e){u.locale=e,a.a.defaults.headers.common["Accept-Language"]=e;var t=document.querySelector("html");return null!==t&&t.setAttribute("lang",e),e}function f(e){return u.locale===e?Promise.resolve(d(e)):c.includes(e)?Promise.resolve(d(e)):new Promise((function(t,r){Object(s["a"])(e).then((function(n){if(n)return u.setLocaleMessage(e,l()),u.mergeLocaleMessage(e,n),c.push(e),Object(s["e"])(e,n),t(d(e));r()})).catch((function(e){r()}))}))}t["a"]=u},"9ae0":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"f",(function(){return f})),r.d(t,"d",(function(){return p}));var n=r("0613"),o=r("2b0e"),i=r("7490").default;function a(e){return new Promise((function(t,r){if(null!=localStorage.getItem("translationsData")){var n=JSON.parse(localStorage.getItem("translationsData"));if(null!=n[e])return t(JSON.parse(n[e]))}r()}))}function s(e){return n["a"].state.app.networkOnLine?new Promise((function(t,r){o["default"].axios.get("https://dishcovery.menu/api/v3/getTranslationsData?lang="+e).then((function(e){if(e.data)return t(e.data);r()})).catch((function(n){n.response||n.request,console.log(JSON.stringify(n)),a(e).then((function(e){t(e)})).catch((function(e){r()}))}))})):a(e)}function c(e,t){if(n["a"].state.app.networkOnLine){var r=JSON.parse(localStorage.getItem("translationsData"));null==r&&(r={}),r[e]=JSON.stringify(t)}}function l(e,t){return new Promise((function(r,n){if(null!=localStorage.getItem(e)){var o=localStorage.getItem(e);o&&!o.toString().startsWith("{")&&(o=i.decompressFromUTF16(o));var a=JSON.parse(o);if(null!=a.restaurant&&null!=a.restaurant[t])return r(a.restaurant[t])}n()}))}function u(e,t){return n["a"].state.app.networkOnLine?new Promise((function(r,n){o["default"].axios.get("https://dishcovery.menu/api/v3/restaurants/"+e+"/static-light",{params:{lang:t}}).then((function(e){if(e.data.rid)return r(e.data);n()})).catch((function(o){if(console.log("response error :( "+JSON.stringify(o.response)),302===o.response.status&&void 0!==o.response.data&&void 0!==o.response.data.hash&&location.href.indexOf(e)>=0)return n({type:"redirect",hash:o.response.data.hash});l(e,t).then((function(e){r(e)})).catch((function(e){n(e)}))}))})):l(e,t)}function d(e,t){return n["a"].state.app.networkOnLine?new Promise((function(r,n){o["default"].axios.get("https://dishcovery.menu/api/v3/restaurants/"+e+"/static",{params:{lang:t}}).then((function(e){if(e.data.name)return r(e.data);n()})).catch((function(o){l(e,t).then((function(e){r(e)})).catch((function(e){console.log("error!! "+JSON.stringify(o)),n(e)}))}))})):l(e,t)}function f(e,t){return new Promise((function(t,r){if(!n["a"].state.app.networkOnLine)return t(!0);o["default"].axios.get("https://dishcovery.menu/api/v5/restaurant/"+e+"/acoptions").then((function(e){return e.data.enable_owner_access_control?t(!0):t(!1)})).catch((function(e){return console.log("error retrieving live restaurant options"),t(!0)}))}))}function p(e,t){n["a"].state.app.networkOnLine&&e.restaurant&&e.restaurant.hash}},"9b19":function(e,t,r){e.exports=r.p+"img/logo.3043060c.svg"},a4e5:function(e,t,r){e.exports=r.p+"img/iphone-frame-full.c0aae994.png"},af0d:function(e,t,r){"use strict";var n=r("6deb"),o=r.n(n);o.a},afbd:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("0613");function o(e,t,r,o){if(n["a"].state.app.analyticsEnabled&&(void 0!==n["a"].state.restaurant.name||""!==n["a"].state.restaurant.name.toString().trim())){var i={event_category:n["a"].state.restaurant.name,event_label:null,value:null};if(void 0!==r&&void 0!==o?(e.event(n["a"].state.restaurant.name,t,r,o),i.event_label=r,i.value=o):void 0!==r?(e.event(n["a"].state.restaurant.name,t,r),i.event_label=r):e.event(n["a"].state.restaurant.name,t),window.vm.$ga4enabled){var a=t;switch(t){case"page":break;case"orderAdd":a="add_to_order";break;case"orderRemove":a="remove_from_order";break;case"orderAddBeverage":a="add_to_order_beverage";break;case"orderAddFood":a="add_to_order_food";break;case"orderRemoveBeverage":a="remove_from_order_beverage";break;case"orderRemoveFood":a="remove_from_order_food";break;case"orderAddPaired":a="add_to_order_paired";break;case"orderRemovePaired":a="remove_from_order_paired";break;case"orderAddPairedBeverage":a="add_to_order_paired_beverage";break;case"orderAddPairedFood":a="add_to_order_paired_food";break;case"orderRemovePairedBeverage":a="remove_from_order_paired_beverage";break;case"orderRemovePairedFood":a="remove_from_order_paired_food";break;case"callWaiter":a="call_waiter";break;case"payOrder":a="pay_order";break;case"viewMyOrders":a="view_my_orders";break;case"closeMyOrders":a="close_my_orders";break;case"viewOrder":a="view_order";break;case"closeOrder":a="close_order";break;case"emptyOrder":a="empty_order";break;case"viewIngredient":a="view_ingredient";break;case"exitIngredient":a="close_ingredient";break;case"changeLang":a="change_lang";break;case"clickedCategory":a="view_category";break;case"clickedCategoryBeverage":a="view_category_beverage";break;case"clickedCategoryFood":a="view_category_food";break;case"exitCategory":a="close_deep_category";break;case"viewDrink":a="view_drink";break;case"exitDrink":a="close_drink";break;case"viewPlate":a="view_dish";break;case"exitPlate":a="close_dish";break;case"enterSpecialMenu":a="view_special_menu";break;case"exitSpecialMenu":a="close_special_menu";break;case"clickedReview":a="clicked_review";break;case"clickedShare":a="clicked_share";break;case"order-simple":a="order",i.event_label="simple";break;case"order-wa":a="order",i.event_label="wa";break;case"order-mail":a="order",i.event_label="mail";break;case"order-phone":a="order",i.event_label="phone";break;case"order-stripe":a="order",i.event_label="stripe";break;case"specialMenuOrderAdd":a="add_special_menu_to_order";break;case"specialMenuOrderAddDetail":a="add_special_menu_to_order_detail";break;case"specialMenuOrderRemove":a="remove_special_menu_from_order";break;case"specialMenuOrderRemoveDetail":a="remove_special_menu_from_order_detail";break;case"orderAddBeverageDetail":a="add_to_order_beverage_detail";break;case"orderAddFoodDetail":a="add_to_order_food_detail";break;case"orderRemoveBeverageDetail":a="remove_from_order_beverage_detail";break;case"orderRemoveFoodDetail":a="remove_from_order_food_detail";break}console.log("firing "+a+" "+JSON.stringify(i)),window.vm.$gtag.event(a,i)}}}},b3da:function(e,t,r){},ba97:function(e,t,r){"use strict";var n=r("7ca1"),o=r.n(n);o.a},cd49:function(e,t,r){"use strict";r.r(t);r("744f"),r("6c7b"),r("7514"),r("20d6"),r("1c4c"),r("6762"),r("cadf"),r("e804"),r("55dd"),r("d04f"),r("c8ce"),r("87b3"),r("217b"),r("7f7f"),r("f400"),r("7f25"),r("536b"),r("d9ab"),r("f9ab"),r("32d7"),r("25c9"),r("9f3c"),r("042e"),r("c7c6"),r("f4ff"),r("049f"),r("7872"),r("a69f"),r("0b21"),r("6c1a"),r("c7c62"),r("84b4"),r("c5f6"),r("2e37"),r("fca0"),r("7cdf"),r("ee1d"),r("b1b1"),r("87f3"),r("9278"),r("5df2"),r("04ff"),r("f751"),r("4504"),r("fee7"),r("ffc1"),r("0d6d"),r("9986"),r("8e6e"),r("25db"),r("e4f7"),r("b9a1"),r("64d5"),r("9aea"),r("db97"),r("66c8"),r("57f0"),r("165b"),r("456d"),r("cf6a"),r("fd24"),r("8615"),r("551c"),r("097d"),r("df1b"),r("2397"),r("88ca"),r("ba16"),r("d185"),r("ebde"),r("2d34"),r("f6b3"),r("2251"),r("c698"),r("a19f"),r("9253"),r("9275"),r("3b2b"),r("3846"),r("4917"),r("a481"),r("28a5"),r("386d"),r("6b54"),r("4f7f"),r("8a81"),r("ac4d"),r("8449"),r("9c86"),r("fa83"),r("48c0"),r("a032"),r("aef6"),r("d263"),r("6c37"),r("9ec8"),r("5695"),r("2fdb"),r("d0b0"),r("5df3"),r("b54a"),r("f576"),r("ed50"),r("788d"),r("14b9"),r("f386"),r("f559"),r("1448"),r("673e"),r("242a"),r("c66f"),r("262f"),r("b05c"),r("34ef"),r("6aa2"),r("15ac"),r("af56"),r("b6e4"),r("9c29"),r("63d9"),r("4dda"),r("10ad"),r("c02b"),r("4795"),r("130f"),r("ac6a"),r("96cf");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"container-mobile":!e.mobileMode&&!e.previewMode,"container-mobile-frame":!e.mobileMode&&e.previewMode,"network-offline":!e.networkOnLine,"disabled-cart":0==e.buyableMenuEntriesCount}},[!e.mobileMode&&e.previewMode?n("img",{staticClass:"iphone-frame-full",attrs:{src:r("a4e5"),alt:"mobile-frame",title:"Mobile frame"}}):e._e(),n("v-app",{staticClass:"white"},[n("v-overlay",{staticStyle:{"z-index":"500"},attrs:{value:e.refreshingApp}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"48",color:"yellow"}})],1),n("keep-alive",[n("router-view")],1),n("language-chooser-full-screen",{attrs:{showDialog:e.showLanguageChooser},on:{close:e.languagesDialogClose}}),n("transition",{attrs:{name:"fade"}},[e.splashShown?e._e():n("splash-screen")],1),e.newContentAvailable?n("new-content-available-toastr",{attrs:{"refreshing-app":e.refreshingApp},on:{skip:e.dismissServiceWorkerUpdate,refresh:e.serviceWorkerSkipWaiting}}):e._e(),e.showAddToHomeScreenModalForApple?n("apple-add-to-home-screen-modal",{staticClass:"apple-add-to-home-screen-modal",on:{close:function(t){return e.closeAddToHomeScreenModalForApple()}}}):e._e(),e.showAddToHomeScreenModalForAndroid?n("android-add-to-home-screen-modal",{staticClass:"apple-add-to-home-screen-modal",on:{close:function(t){return e.closeAddToHomeScreenModalForAndroid()}}}):e._e(),n("item-options-popup"),n("v-snackbar",{attrs:{bottom:!0,color:"error",timeout:e.snackbarTimeout},model:{value:e.snackbarErrorShow,callback:function(t){e.snackbarErrorShow=t},expression:"snackbarErrorShow"}},[e._v("\n            "+e._s(e.snackbarMessage)+"\n        ")]),n("v-snackbar",{attrs:{bottom:!0,color:"info",timeout:e.snackbarTimeout},model:{value:e.snackbarInfoShow,callback:function(t){e.snackbarInfoShow=t},expression:"snackbarInfoShow"}},[e._v("\n            "+e._s(e.snackbarMessage)+"\n        ")])],1)],1)},i=[],a=r("2f62"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{staticClass:"snack",attrs:{timeout:0,bottom:"",center:"",color:"black"},model:{value:e.newContentAvailable,callback:function(t){e.newContentAvailable=t},expression:"newContentAvailable"}},[e.refreshingApp?r("v-flex",{staticClass:"justify-start text-start"},[r("v-progress-circular",{attrs:{indeterminate:"",size:"24",color:"primary"}}),r("span",{staticClass:"white--text loading-text",class:{"pl-2":!e.$vuetify.rtl,"pr-2":e.$vuetify.rtl}},[e._v("\n            "+e._s(e.$t("Caricamento nuovi contenuti..."))+"\n        ")])],1):r("v-flex",[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"d-flex",staticStyle:{"padding-top":"5px"}},[e._v("\n                "+e._s(e.$t("Update disponibile!"))+"\n            ")]),r("v-col",{staticClass:"d-flex",staticStyle:{"max-width":"92px"}},[r("v-btn",{staticClass:"black--text mr-2 ml-0",attrs:{dark:"",text:"",color:"yellow accent-4"},nativeOn:{click:function(t){return e.$emit("refresh")}}},[e._v("\n                    "+e._s(e.$t("REFRESH"))+"\n                ")])],1)],1)],1),r("v-btn",{staticClass:"white--text mx-0",class:{"pr-0":!e.$vuetify.rtl,"pl-2":e.$vuetify.rtl},attrs:{icon:""},on:{click:function(t){return e.$emit("skip")}}},[r("v-icon",[e._v("mdi-close")])],1)],1)},c=[];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={props:{refreshingApp:Boolean},computed:u({},Object(a["c"])("app",["newContentAvailable"]))},p=f,m=r("2877"),v=r("6544"),h=r.n(v),g=r("8336"),y=r("62ad"),b=r("0e8f"),S=r("132d"),O=r("490a"),w=r("0fd9"),C=r("2db4"),_=Object(m["a"])(p,s,c,!1,null,"6f75f966",null),k=_.exports;h()(_,{VBtn:g["a"],VCol:y["a"],VFlex:b["a"],VIcon:S["a"],VProgressCircular:O["a"],VRow:w["a"],VSnackbar:C["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"content-class":"add-to-home-dialog","max-width":"290",persistent:""},model:{value:e.showAddToHomeScreenModalForApple,callback:function(t){e.showAddToHomeScreenModalForApple=t},expression:"showAddToHomeScreenModalForApple"}},[n("v-card",[n("v-card-title",{staticClass:"headline d-flex align-start justify-space-between text-start"},[n("span",{staticClass:"popup-title"},[e._v(e._s(e.$t("Installa {0}!",[e.name])))]),n("v-btn",{staticClass:"elevation-0 btn-close",attrs:{color:"black",dark:"",fab:"",small:""},on:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("mdi-window-close")])],1)],1),n("v-card-text",{staticClass:"mb-0 pb-0"},[n("v-sheet",{staticClass:"restaurant-logo-container",attrs:{tile:""}},[e.logo?n("v-img",{key:e.logo,staticClass:"splash-restaurant-logo",attrs:{alt:"logo-restaurant",title:"Restaurant Logo",src:e.logo,"aspect-ratio":248/54,contain:""}}):e._e()],1),n("p",{staticClass:"text-start mb-0 pb-0"},[n("br"),e._v("\n                "+e._s(e.$t("Installa questo ristorante sullo smartphone per un accesso più veloce!"))+"\n                "),n("br"),n("br"),n("span",{domProps:{innerHTML:e._s(e.$t("Tap {0} poi 'Aggiungi a schermata Home'",[e.iconToTap]))}})])],1),n("v-divider",{staticClass:"mx-4 my-2"}),n("v-card-actions",{staticClass:"pb-4"},[n("v-sheet",{staticClass:"powered-stuff"},[n("v-sheet",{staticClass:"dishcovery-powered-container pa-0",class:{"pl-2":!e.$vuetify.rtl,"pr-2":e.$vuetify.rtl}},[n("img",{staticClass:"language-chooser-dishcovery-logo",attrs:{alt:"logo-dishcovery",title:"Dishcovery Logo",src:r("cf05"),width:"30",height:"30"}}),n("span",{class:{"pl-3":!e.$vuetify.rtl,"pr-3":e.$vuetify.rtl}},[e._v("Powered by"),n("br"),n("b",[e._v("Dishcovery")])])])],1),n("v-spacer"),n("v-btn",{staticClass:"black--text yellow accent-4",class:{"mr-2":!e.$vuetify.rtl,"ml-2":e.$vuetify.rtl},attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(e._s(e.$t("Ho capito")))])],1)],1)],1)},A=[];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T={computed:x({},Object(a["e"])("app",["appTitle","showAddToHomeScreenModalForApple"]),{},Object(a["e"])("restaurant",["name","logo"])),data:function(){return{iconToTap:'<img class="apple-navigation-action-img mx-1" height="24" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA1CAYAAAAtf5mbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTZCQTRBN0Q2OTdDMTFFNzhCMEZDMTIwMUI0RkQzNjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTZCQTRBN0U2OTdDMTFFNzhCMEZDMTIwMUI0RkQzNjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NkJBNEE3QjY5N0MxMUU3OEIwRkMxMjAxQjRGRDM2MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NkJBNEE3QzY5N0MxMUU3OEIwRkMxMjAxQjRGRDM2MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn8R4UYAAAELSURBVHja7NhLCsIwFAXQRLoQF6SORMGB4BYEQXDgwIEgFJfhxJE7ElfhN75AAg9N2gT7o94LF0VJOKZJKQqllPA1Mil1LopKQbC9nsp00RQYR9ku64ZZ1JWhXuZ1VReMo3oMNqM+zPt11bBPlGAwnSnDbaqCcVSfT8VgOhOG25YN86FcMJ0x9W4+35UF46iBayoHTGdIvZnv0lBXEvEbzgY1op4ixh2pT+qBeinrUnazpvKsWMjYr8is0yeljNoVdlgRN/6OaGgAi43M2bB5Y0P2mGrViiXstiF/PJWhKxt0urH5AQMMMMAAAwwwwBryoFjDAyEuJWCAAQYYYIABBlhL/4P9zxV7CzAARnAcTBPSXp8AAAAASUVORK5CYII="/>'}}},E=T,D=(r("ba97"),r("324a"),r("b0af")),N=r("99d9"),j=r("169a"),F=r("ce7e"),R=r("adda"),L=r("8dd9"),V=r("2fa4"),W=Object(m["a"])(E,M,A,!1,null,"eba228fa",null),z=W.exports;h()(W,{VBtn:g["a"],VCard:D["a"],VCardActions:N["a"],VCardText:N["b"],VCardTitle:N["c"],VDialog:j["a"],VDivider:F["a"],VIcon:S["a"],VImg:R["a"],VSheet:L["a"],VSpacer:V["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-overlay",{staticClass:"main-restaurant-overlay-content",attrs:{opacity:1,color:"white"}},[n("v-sheet",{staticClass:"splash-restaurant-logo-container",attrs:{light:""}},[n("transition",{attrs:{name:"fade"}},[e.logo?n("v-img",{key:e.logo,staticClass:"splash-restaurant-logo",attrs:{alt:"logo-restaurant",title:"Restaurant Logo",src:e.logo,"aspect-ratio":260/58,contain:""}}):e._e()],1)],1),n("v-progress-circular",{staticClass:"splash-loader",attrs:{indeterminate:"",size:"96",color:"yellow"}}),n("div",{staticClass:"splash-dishcovery-logo-container"},[n("img",{staticClass:"splash-dishcovery-logo",attrs:{alt:"logo-dishcovery",title:"Dishcovery Logo",src:r("9b19"),width:"84",height:"84"}})]),n("transition",{attrs:{name:"fade"}},[e.image?n("div",{key:e.image,staticClass:"splash-restaurant-cover-container",style:{backgroundImage:"url("+e.image+")"}}):e._e()])],1)},J=[];function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){G(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H={name:"LanguageChooserFull",computed:q({},Object(a["e"])("restaurant",["logo","image"]))},$=H,Q=(r("186b"),r("a797")),Z=Object(m["a"])($,U,J,!1,null,"57fbdb9c",null),Y=Z.exports;h()(Z,{VImg:R["a"],VOverlay:Q["a"],VProgressCircular:O["a"],VSheet:L["a"]});var K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{"justify-center":""}},[n("v-dialog",{attrs:{"content-class":"language-chooser-dialog-content",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-sheet",{staticClass:"restaurant-logo-container",attrs:{tile:""}},[e.logo?n("v-img",{key:e.logo,staticClass:"splash-restaurant-logo",attrs:{alt:"logo-restaurant",title:"Restaurant Logo",src:e.logo,"aspect-ratio":260/58,contain:""},scopedSlots:e._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"yellow"}})],1)]},proxy:!0}],null,!1,2631675555)}):e._e()],1),e._l(e.availableLanguages,(function(t){return n("v-card",{key:t.id,staticClass:"black language-button",attrs:{elevation:"4"}},[n("v-img",{staticClass:"white--text",attrs:{src:t.image,"aspect-ratio":2.04375},on:{click:function(r){return e.chooseLanguage(t.code)}}},[n("v-card-title",{staticClass:"align-top font-weight-bold"},[e._v(e._s(t.name))])],1)],1)})),n("v-sheet",{staticClass:"language-chooser-dishcovery-powered-container"},[n("img",{staticClass:"language-chooser-dishcovery-logo",attrs:{alt:"logo-dishcovery",title:"Dishcovery Logo",src:r("cf05"),width:"30",height:"30"}}),n("span",{staticClass:"font-weight-bold"},[e._v("Powered by Dishcovery")])]),n("v-overlay",{attrs:{value:e.overlay}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"48",color:"yellow"}})],1)],2)],1)},X=[],ee=r("afbd"),te=r("68d6");function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={name:"LanguageChooserFullScreen",props:["showDialog"],mixins:[Object(te["a"])(["showDialog"],"disable")],data:function(){return{overlay:!1,isShowing:!1}},computed:ne({},Object(a["c"])("restaurant",["isLangRTL"]),{},Object(a["e"])("restaurant",["availableLanguages","logo"])),methods:ne({chooseLanguage:function(e){var t=this;this.overlay=!0,this.$store.commit("app/setCurrentLanguage",e),Object(ee["a"])(this.$ga,"changeLang",e),this.getFullRestaurantInfo(e).then((function(){t.$vuetify.rtl=t.isLangRTL(e),t.$emit("close")}))}},Object(a["b"])("restaurant",["getFullRestaurantInfo"]))},ae=ie,se=(r("af0d"),r("37ca"),r("a722")),ce=Object(m["a"])(ae,K,X,!1,null,"70fb5186",null),le=ce.exports;h()(ce,{VCard:D["a"],VCardTitle:N["c"],VDialog:j["a"],VImg:R["a"],VLayout:se["a"],VOverlay:Q["a"],VProgressCircular:O["a"],VRow:w["a"],VSheet:L["a"]});var ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"content-class":"add-to-home-dialog","max-width":"290",persistent:""},model:{value:e.showAddToHomeScreenModalForAndroid,callback:function(t){e.showAddToHomeScreenModalForAndroid=t},expression:"showAddToHomeScreenModalForAndroid"}},[n("v-card",[n("v-card-title",{staticClass:"headline d-flex align-start justify-space-between text-start"},[n("span",{staticClass:"popup-title"},[e._v(e._s(e.$t("Installa {0}!",[e.name])))]),n("v-btn",{staticClass:"elevation-0 btn-close",attrs:{color:"black",dark:"",fab:"",small:""},on:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("mdi-window-close")])],1)],1),n("v-card-text",{staticClass:"mb-0 pb-0"},[n("v-sheet",{staticClass:"restaurant-logo-container",attrs:{tile:""}},[e.logo?n("v-img",{key:e.logo,staticClass:"splash-restaurant-logo",attrs:{alt:"logo-restaurant",title:"Restaurant Logo",src:e.logo,"aspect-ratio":248/54,contain:""}}):e._e()],1),n("p",{staticClass:"text-start mb-0 pb-0"},[n("br"),e._v("\n                "+e._s(e.$t("Installa questa applicazione sullo smartphone per un accesso più veloce!"))+"\n                "),n("br"),n("br"),n("span",{domProps:{innerHTML:e._s(e.$t("Tap {0} poi 'Aggiungi a schermata Home'",[e.iconToTap]))}})])],1),n("v-divider",{staticClass:"mx-4 my-2"}),n("v-card-actions",{staticClass:"pb-4"},[n("v-sheet",{staticClass:"powered-stuff"},[n("v-sheet",{staticClass:"dishcovery-powered-container pa-0",class:{"pl-2":!e.$vuetify.rtl,"pr-2":e.$vuetify.rtl}},[n("img",{staticClass:"language-chooser-dishcovery-logo",attrs:{alt:"logo-dishcovery",title:"Dishcovery Logo",src:r("cf05"),width:"30",height:"30"}}),n("span",{class:{"pl-3":!e.$vuetify.rtl,"pr-3":e.$vuetify.rtl}},[e._v("Powered by"),n("br"),n("b",[e._v("Dishcovery")])])])],1),n("v-spacer"),n("v-btn",{staticClass:"black--text yellow accent-4",class:{"mr-2":!e.$vuetify.rtl,"ml-2":e.$vuetify.rtl},attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(e._s(e.$t("Ho capito")))])],1)],1)],1)},de=[];function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ve={computed:pe({},Object(a["e"])("app",["appTitle","showAddToHomeScreenModalForAndroid"]),{},Object(a["e"])("restaurant",["name","logo"])),data:function(){return{iconToTap:'<img class="android-navigation-action-img mx-1" height="18" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjCgkROx0p7N4BAAAA00lEQVQ4y52UOQ7CQAxFX6CDAlKySlBwBKCh5HooXIHlICScgqVMIgqEREdBTIMsSEZg+NNY4/+9jgaKqDInISaggglr5HmWFrpPpoKMet5dcgg8tT387xk8Dpph9yL+gBEJgpAwdMVzocYECLnapvQXmjTt5C5bBCGiYxNsdUqhhd5SuiA08u7i4u6/Nxxp/I1N0CF80tv2LI1i9X+i7LytM2XAiZstyJgUQUgZWegeR53S3vK8+2+L6+XdxcWdEbWFi6WolcZf2JquEBATM3N9Mw8uXFMogT6gCwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMC0wOVQxNzo1OToyOSswMDowMNaNCp8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTAtMDlUMTc6NTk6MjkrMDA6MDCn0LIjAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="/>'}}},he=ve,ge=(r("cf8e"),r("5d75"),Object(m["a"])(he,ue,de,!1,null,"9a9523c8",null)),ye=ge.exports;h()(ge,{VBtn:g["a"],VCard:D["a"],VCardActions:N["a"],VCardText:N["b"],VCardTitle:N["c"],VDialog:j["a"],VDivider:F["a"],VIcon:S["a"],VImg:R["a"],VSheet:L["a"],VSpacer:V["a"]});var be=r("58e9");function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n["default"].filter("pricer",(function(e){if(-1!==e.indexOf(".")){var t=e.substring(e.indexOf(".")+1,e.indexOf(".")+3);"00"==t&&(e=e.replace(".00",""))}return e}));var Ce=n["default"].extend({name:"App",components:{ItemOptionsPopup:be["a"],NewContentAvailableToastr:k,AppleAddToHomeScreenModal:z,AndroidAddToHomeScreenModal:ye,SplashScreen:Y,LanguageChooserFullScreen:le},computed:Oe({},Object(a["c"])("app",["newContentAvailable","snackbarTimeout"]),{},Object(a["e"])("app",["showAddToHomeScreenModalForApple","showSnackbarInfoMessage","showSnackbarErrorMessage","snackbarMessage","snackbarTimeout","showAddToHomeScreenModalForAndroid","refreshingApp","networkOnLine","splashShown","showLanguageChooser","previewMode"]),{},Object(a["e"])("restaurant",["buyableMenuEntriesCount","hash","color"])),data:function(){return{mobileMode:!1,snackbarErrorShow:!1,snackbarInfoShow:!1}},created:function(){this.mobileMode=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initCurrentLanguage()},mounted:function(){this.initDeviceID()},methods:Oe({},Object(a["b"])("app",["closeAddToHomeScreenModalForApple","closeAddToHomeScreenModalForAndroid","closeAppUpdateAvailableModal","initCurrentLanguage","initDeviceID","serviceWorkerSkipWaiting","dismissServiceWorkerUpdate"]),{languagesDialogClose:function(){this.$store.commit("app/setShowLanguageChooser",!1)},afterLeave:function(){this.$root.$emit("triggerScroll",(function(){}))}}),watch:{color:function(){console.log("setting header color "+this.color),document.documentElement.style.setProperty("--primary-color",this.color)},showSnackbarInfoMessage:function(e,t){!0===e&&(this.snackbarInfoShow=!0,this.$store.commit("app/setShowSnackbarInfoMessage",!1))},showSnackbarErrorMessage:function(e,t){!0===e&&(this.snackbarErrorShow=!0,this.$store.commit("app/setShowSnackbarErrorMessage",!1))}}}),_e=Ce,ke=(r("5c0b"),r("7496")),Me=Object(m["a"])(_e,o,i,!1,null,null,null),Ae=Me.exports;h()(Me,{VApp:ke["a"],VOverlay:Q["a"],VProgressCircular:O["a"],VSnackbar:C["a"]});var Ie=r("8c4f"),xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{"text-center":""}},[n("img",{staticClass:"apple-navigation-action-img",attrs:{alt:"logo-dishcovery",title:"Dishcovery Logo",src:r("9b19"),width:"100",height:"100"}})])],1)],1)],1)},Pe=[],Te=n["default"].extend({components:{},created:function(){var e=this;new Promise((function(e){return setTimeout(e,1e3)})).then((function(t){e.$store.commit("app/setSplashShown",!0)}))}}),Ee=Te,De=r("a523"),Ne=r("a75b"),je=Object(m["a"])(Ee,xe,Pe,!1,null,null,null),Fe=je.exports;h()(je,{VContainer:De["a"],VContent:Ne["a"],VFlex:b["a"],VLayout:se["a"]}),n["default"].use(Ie["a"]);var Re=function(e,t,r){if("category"===e.name||"item"===e.name||"reviews"===e.name||"socialshare"===e.name||"about"===e.name||"credits"===e.name||"cart"===e.name)return{x:0,y:0};if(r)return r;var n={};return e.hash?(n.selector=e.hash,!1):new Promise((function(t){e.matched.some((function(e){return e.meta.scrollToTop}))&&(n.x=0,n.y=0)}))},Le=new Ie["a"]({mode:"history",base:"/app/",scrollBehavior:Re,routes:[{path:"/",name:"home",component:Fe},{path:"/restaurant",redirect:{name:"home"}},{path:"/restaurants/:hash",name:"restaurant",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"ad68"))},meta:{title:"Dishcovery Web App",metaTags:[{name:"description",content:"Pagina dell'attività."},{property:"og:description",content:"Pagina dell'attività."}]}},{path:"/restaurants/:hash/special-menus",name:"special-menus",props:function(e){return{hash:String(e.params.hash)}},component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"a420"))}},{path:"/restaurants/:hash/special-menus/:id",name:"special-menu",props:function(e){return{hash:String(e.params.hash),id:Number(e.params.id)}},component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"1f07"))}},{path:"/restaurants/:hash/a-la-carte-menu",name:"a-la-carte-menu",props:function(e){return{hash:String(e.params.hash)}},component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"60d5"))}},{path:"/restaurants/:hash/category/:catId",name:"category",props:function(e){return{hash:String(e.params.hash),catId:Number(e.params.catId)}},component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"4886"))}},{path:"/restaurants/:hash/search",name:"search",props:function(e){return{hash:String(e.params.hash)}},component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"2d3b"))}},{path:"/restaurants/:hash/item/:itemId",name:"item",props:function(e){return{hash:String(e.params.hash),itemId:Number(e.params.itemId)}},component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"f0df"))}},{path:"/restaurants/:hash/cart",name:"cart",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"b789"))}},{path:"/restaurants/:hash/cart/payment-result",name:"payment-result",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("payment-result")]).then(r.bind(null,"7535"))}},{path:"/restaurants/:hash/cart/my-orders",name:"my-orders",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("client-chunk-product-details")]).then(r.bind(null,"65a8"))}},{path:"/restaurants/:hash/reviews",name:"reviews",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("chunk-10388d24")]).then(r.bind(null,"2e51"))}},{path:"/restaurants/:hash/socialshare",name:"socialshare",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("chunk-381edeec")]).then(r.bind(null,"5bc1"))}},{path:"/restaurants/:hash/about",name:"about",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("about")]).then(r.bind(null,"f820"))}},{path:"/restaurants/:hash/credits",name:"credits",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("about")]).then(r.bind(null,"b096"))}},{path:"/restaurants/:hash/registration",name:"registration",props:!0,component:function(){return Promise.all([r.e("chunk-1c6ffa89"),r.e("about~client-chunk-product-details~payment-result"),r.e("about~client-chunk-product-details"),r.e("about")]).then(r.bind(null,"3fd1"))}},{path:"/restaurants/:hash/:id",redirect:"/restaurants/:hash"}]}),Ve=r("0613"),We=r("f309"),ze=r("c2a1"),Ue=r("d7a2");n["default"].use(We["a"],{directives:{Touch:Ue["Touch"],Scroll:Ue["Scroll"]}});var Je=new We["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#fdd900",secondary:"#FD3E33",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{it:ze["a"]},current:"it"},icons:{iconfont:"mdi"}}),Be=r("9483");if(Object(Be["a"])("".concat("/app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(e){console.log("Service worker has been registered."),setInterval((function(){void 0!==e&&e.update()}),3e4)},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading."),Ve["a"].commit("app/setAppUpdateAvailable",!0)},updated:function(e){Ve["a"].commit("app/setSWRegistrationForNewContent",e),console.log("New content is available; please refresh."),Ve["a"].commit("app/setAppUpdateAvailable",!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),"serviceWorker"in navigator){var qe=!1;navigator.serviceWorker.addEventListener("controllerchange",(function(){qe||(qe=!0,window.location.reload())}))}n["default"].mixin({data:function(){return{mobileMode:!1,newLineChar:decodeURIComponent("%0D%0A")}},methods:{setAppTitle:function(e){document.title=e},isIosBrowser:function(){/iPhone|iPad|iPod/i.test(navigator.userAgent)},isAndroidBrowser:function(){/Android/i.test(navigator.userAgent)},round:function(e,t){return+(Math.round(Number(e+"e+"+t))+"e-"+t)},createManifest:function(e,t){var r={name:e+" - Powered by Dishcovery",short_name:e,icons:[{src:"@/img/icons/msapplication-icon-144x144.png",sizes:"144x144",type:"image/png"},{src:"@/img/icons/android-chrome-192x192.png",sizes:"192x192",type:"image/png"},{src:"@/img/icons/android-chrome-512x512.png",sizes:"512x512",type:"image/png"}],start_url:this.$router.currentRoute.path,display:"standalone",background_color:"transparent",theme_color:"#fdd900"},n=JSON.stringify(r),o=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(o);t.querySelector("#dynamic-dishcovery-manifest").setAttribute("href",i)}}}),Ve["a"].commit("app/setNetworkOnline",navigator.onLine),window.addEventListener("online",(function(){Ve["a"].commit("app/setNetworkOnline",!0)})),window.addEventListener("offline",(function(){Ve["a"].commit("app/setNetworkOnline",!1)}));var Ge=r("bc3a"),He=r.n(Ge),$e=r("a7fe"),Qe=r.n($e),Ze=r("88c3"),Ye=r("0284"),Ke=r.n(Ye),Xe=r("a584"),et=r("02e7");n["default"].use(et,{load:{key:"AIzaSyBd1RXiCnCzaZfvka2Y1UaNUi3sJGq0E9o",libraries:"places",region:"IT",language:"it"},installComponents:!0}),n["default"].use(r("2ead")),n["default"].config.productionTip=!1,n["default"].use(Qe.a,He.a),n["default"].use(Ke.a,{id:function(){return"UA-126641753-1"},router:Le,autoTracking:{pageviewTemplate:function(e){return{page:e.path.indexOf("/restaurants")>0?"/frontend"+e.path.substr(e.path.indexOf("/restaurants")):e.path,title:document.title,location:window.location.href}}}}),n["default"].use(Xe["b"],{bootstrap:!1}),Le.beforeEach((function(e,t,r){var n=e.params.lang;if(void 0!==n&&Object(Ze["b"])(n).then((function(){return r()})),!Ve["a"].state.app.splashShown){var o=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.title})),i=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags}));t.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags}));if(o&&(document.title=o.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((function(e){return null!=e.parentNode?e.parentNode.removeChild(e):e})),!i)return r();i.meta.metaTags.map((function(e){var t=document.createElement("meta");return Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])})),t.setAttribute("data-vue-router-controlled",""),t})).forEach((function(e){return document.head.appendChild(e)}))}r()}));var tt=new n["default"]({router:Le,store:Ve["a"],vuetify:Je,i18n:Ze["a"],render:function(e){return e(Ae)}}).$mount("#app");window.vm=tt},cdaa:function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.961d58e7.png"},cf11:function(e,t,r){"use strict";var n=r("db40"),o=r.n(n);o.a},cf8e:function(e,t,r){"use strict";var n=r("cdaa"),o=r.n(n);o.a},d77e:function(e,t,r){},db40:function(e,t,r){}});
